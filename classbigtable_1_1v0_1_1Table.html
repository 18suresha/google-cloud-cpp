<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google Cloud Bigtable C++ Client: bigtable::v0::Table Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Google Cloud Bigtable C++ Client
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">A C++ Client Library for Google Cloud Bigtable</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacebigtable.html">bigtable</a></li><li class="navelem"><a class="el" href="namespacebigtable_1_1v0.html">v0</a></li><li class="navelem"><a class="el" href="classbigtable_1_1v0_1_1Table.html">Table</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classbigtable_1_1v0_1_1Table-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">bigtable::v0::Table Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The main interface to interact with data in a Cloud Bigtable table.  
 <a href="classbigtable_1_1v0_1_1Table.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="table_8h_source.html">table.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac2c140036ff1c089cecf81e60945fe50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbigtable_1_1v0_1_1Table.html#ac2c140036ff1c089cecf81e60945fe50">Table</a> (std::shared_ptr&lt; <a class="el" href="classbigtable_1_1v0_1_1DataClient.html">DataClient</a> &gt; client, absl::string_view table_id)</td></tr>
<tr class="memdesc:ac2c140036ff1c089cecf81e60945fe50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor with default policies.  <a href="#ac2c140036ff1c089cecf81e60945fe50">More...</a><br /></td></tr>
<tr class="separator:ac2c140036ff1c089cecf81e60945fe50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30041b7d3d5e8088a74b8c752344d7e9"><td class="memTemplParams" colspan="2">template&lt;typename RPCRetryPolicy , typename RPCBackoffPolicy , typename IdempotentMutationPolicy &gt; </td></tr>
<tr class="memitem:a30041b7d3d5e8088a74b8c752344d7e9"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classbigtable_1_1v0_1_1Table.html#a30041b7d3d5e8088a74b8c752344d7e9">Table</a> (std::shared_ptr&lt; <a class="el" href="classbigtable_1_1v0_1_1DataClient.html">DataClient</a> &gt; client, absl::string_view table_id, <a class="el" href="classbigtable_1_1v0_1_1RPCRetryPolicy.html">RPCRetryPolicy</a> retry_policy, <a class="el" href="classbigtable_1_1v0_1_1RPCBackoffPolicy.html">RPCBackoffPolicy</a> backoff_policy, <a class="el" href="classbigtable_1_1v0_1_1IdempotentMutationPolicy.html">IdempotentMutationPolicy</a> idempotent_mutation_policy)</td></tr>
<tr class="memdesc:a30041b7d3d5e8088a74b8c752344d7e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor with explicit policies.  <a href="#a30041b7d3d5e8088a74b8c752344d7e9">More...</a><br /></td></tr>
<tr class="separator:a30041b7d3d5e8088a74b8c752344d7e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a132da5014a26e0e1741e7759979bea5f"><td class="memItemLeft" align="right" valign="top">std::string const  &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbigtable_1_1v0_1_1Table.html#a132da5014a26e0e1741e7759979bea5f">table_name</a> () const</td></tr>
<tr class="separator:a132da5014a26e0e1741e7759979bea5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbd684a9bb9eb992890a4b9d17b4b03f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbigtable_1_1v0_1_1Table.html#adbd684a9bb9eb992890a4b9d17b4b03f">Apply</a> (<a class="el" href="classbigtable_1_1v0_1_1SingleRowMutation.html">SingleRowMutation</a> &amp;&amp;mut)</td></tr>
<tr class="memdesc:adbd684a9bb9eb992890a4b9d17b4b03f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to apply the mutation to a row.  <a href="#adbd684a9bb9eb992890a4b9d17b4b03f">More...</a><br /></td></tr>
<tr class="separator:adbd684a9bb9eb992890a4b9d17b4b03f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5714f0f923da7544cccd11fa943f320b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbigtable_1_1v0_1_1Table.html#a5714f0f923da7544cccd11fa943f320b">BulkApply</a> (<a class="el" href="classbigtable_1_1v0_1_1BulkMutation.html">BulkMutation</a> &amp;&amp;mut)</td></tr>
<tr class="memdesc:a5714f0f923da7544cccd11fa943f320b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to apply mutations to multiple rows.  <a href="#a5714f0f923da7544cccd11fa943f320b">More...</a><br /></td></tr>
<tr class="separator:a5714f0f923da7544cccd11fa943f320b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The main interface to interact with data in a Cloud Bigtable table. </p>
<p>This class offers member functions to modify data in a Cloud Bigtable table. The class deals with the most common transient failures, and retries the underlying RPC calls subject to the policies configured by the application.</p>
<p>Please read the documentation for <code><a class="el" href="classbigtable_1_1v0_1_1Table.html#ac2c140036ff1c089cecf81e60945fe50" title="Constructor with default policies. ">Table::Table()</a></code> to understand the effect of the different policies.</p>
<p>TODO(#32) - update the description when ReadRows()/ReadRow() are implemented. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac2c140036ff1c089cecf81e60945fe50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2c140036ff1c089cecf81e60945fe50">&#9670;&nbsp;</a></span>Table() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bigtable::v0::Table::Table </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classbigtable_1_1v0_1_1DataClient.html">DataClient</a> &gt;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">absl::string_view&#160;</td>
          <td class="paramname"><em>table_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor with default policies. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>how to communicate with Cloud Bigtable, including credentials, the project id, and the instance id. </td></tr>
    <tr><td class="paramname">table_id</td><td>the table id within the instance defined by client. The full table name is `client-&gt;instance_name() + '/tables/' + table_id`. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a30041b7d3d5e8088a74b8c752344d7e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30041b7d3d5e8088a74b8c752344d7e9">&#9670;&nbsp;</a></span>Table() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename RPCRetryPolicy , typename RPCBackoffPolicy , typename IdempotentMutationPolicy &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bigtable::v0::Table::Table </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classbigtable_1_1v0_1_1DataClient.html">DataClient</a> &gt;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">absl::string_view&#160;</td>
          <td class="paramname"><em>table_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbigtable_1_1v0_1_1RPCRetryPolicy.html">RPCRetryPolicy</a>&#160;</td>
          <td class="paramname"><em>retry_policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbigtable_1_1v0_1_1RPCBackoffPolicy.html">RPCBackoffPolicy</a>&#160;</td>
          <td class="paramname"><em>backoff_policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbigtable_1_1v0_1_1IdempotentMutationPolicy.html">IdempotentMutationPolicy</a>&#160;</td>
          <td class="paramname"><em>idempotent_mutation_policy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor with explicit policies. </p>
<p>The policies are passed by value, because this makes it easy for applications to create them. For example:</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span>std::chrono_literals; <span class="comment">// assuming C++14.</span></div><div class="line"><span class="keyword">auto</span> client = <a class="code" href="namespacebigtable_1_1v0.html#a4ff02a9311220fdb55a35e2440b0ddd9">bigtable::CreateDefaultClient</a>(...); <span class="comment">// details ommitted</span></div><div class="line">bigtable::Table table(client, <span class="stringliteral">&quot;my-table&quot;</span>,</div><div class="line">                      <span class="comment">// Allow up to 20 minutes to retry operations</span></div><div class="line">                      bigtable::LimitedTimeRetryPolicy(20min),</div><div class="line">                      <span class="comment">// Start with 50 milliseconds backoff, grow</span></div><div class="line">                      <span class="comment">// exponentially to 5 minutes.</span></div><div class="line">                      bigtable::ExponentialBackoffPolicy(50ms, 5min),</div><div class="line">                      <span class="comment">// Only retry idempotent mutations.</span></div><div class="line">                      bigtable::SafeIdempotentMutationPolicy());</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>how to communicate with Cloud Bigtable, including credentials, the project id, and the instance id. </td></tr>
    <tr><td class="paramname">table_id</td><td>the table id within the instance defined by client. The full table name is <code>client-&gt;instance_name() + "/tables/" + table_id</code>. </td></tr>
    <tr><td class="paramname">retry_policy</td><td>the value of the <code><a class="el" href="classbigtable_1_1v0_1_1RPCRetryPolicy.html" title="Define the interface for controlling how the Bigtable client retries RPC operations. ">RPCRetryPolicy</a></code>, for example, the policy type may be <code><a class="el" href="classbigtable_1_1v0_1_1LimitedErrorCountRetryPolicy.html" title="Implement a simple &quot;count errors and then stop&quot; retry policy. ">LimitedErrorCountRetryPolicy</a></code> which tolerates a maximum number of errors, the value controls how many. </td></tr>
    <tr><td class="paramname">backoff_policy</td><td>the value of the <code><a class="el" href="classbigtable_1_1v0_1_1RPCBackoffPolicy.html" title="Define the interface for controlling how the Bigtable client backsoff from failed RPC operations...">RPCBackoffPolicy</a></code>, for example, the policy type may be <code><a class="el" href="classbigtable_1_1v0_1_1ExponentialBackoffPolicy.html" title="Implement a simple exponential backoff policy. ">ExponentialBackoffPolicy</a></code> which will double the wait period on each failure, up to a limit. The value controls the initial and maximum wait periods. </td></tr>
    <tr><td class="paramname">idempotent_mutation_policy</td><td>the value of the <code><a class="el" href="classbigtable_1_1v0_1_1IdempotentMutationPolicy.html" title="Defines the interface to control which mutations are idempotent and therefore can be re-tried...">IdempotentMutationPolicy</a></code>. The policies implemented by this library (<code><a class="el" href="classbigtable_1_1v0_1_1SafeIdempotentMutationPolicy.html" title="Implements a policy that only accepts truly idempotent mutations. ">SafeIdempotentMutationPolicy</a></code> and <code><a class="el" href="classbigtable_1_1v0_1_1AlwaysRetryMutationPolicy.html" title="Implements a policy that retries all mutations. ">AlwaysRetryMutationPolicy</a></code>) are stateless, but the application may implement stateful policies.</td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname"><a class="el" href="classbigtable_1_1v0_1_1IdempotentMutationPolicy.html" title="Defines the interface to control which mutations are idempotent and therefore can be re-tried...">IdempotentMutationPolicy</a></td><td>which mutations are retried. Use <code><a class="el" href="classbigtable_1_1v0_1_1SafeIdempotentMutationPolicy.html" title="Implements a policy that only accepts truly idempotent mutations. ">SafeIdempotentMutationPolicy</a></code> to only retry idempotent operations, use <code><a class="el" href="classbigtable_1_1v0_1_1AlwaysRetryMutationPolicy.html" title="Implements a policy that retries all mutations. ">AlwaysRetryMutationPolicy</a></code> to retry all operations. Read the caveats in the class defintion to understand the downsides of the latter. You can also create your own policies that decide which mutations to retry. </td></tr>
    <tr><td class="paramname"><a class="el" href="classbigtable_1_1v0_1_1RPCBackoffPolicy.html" title="Define the interface for controlling how the Bigtable client backsoff from failed RPC operations...">RPCBackoffPolicy</a></td><td>how to backoff from a failed RPC. Currently only <code><a class="el" href="classbigtable_1_1v0_1_1ExponentialBackoffPolicy.html" title="Implement a simple exponential backoff policy. ">ExponentialBackoffPolicy</a></code> is implemented. You can also create your own policies that backoff using a different algorithm. </td></tr>
    <tr><td class="paramname"><a class="el" href="classbigtable_1_1v0_1_1RPCRetryPolicy.html" title="Define the interface for controlling how the Bigtable client retries RPC operations. ">RPCRetryPolicy</a></td><td>for how long to retry failed RPCs. Use <code><a class="el" href="classbigtable_1_1v0_1_1LimitedErrorCountRetryPolicy.html" title="Implement a simple &quot;count errors and then stop&quot; retry policy. ">LimitedErrorCountRetryPolicy</a></code> to limit the number of failures allowed. Use <code><a class="el" href="classbigtable_1_1v0_1_1LimitedTimeRetryPolicy.html" title="Implement a simple &quot;keep trying for this time&quot; retry policy. ">LimitedTimeRetryPolicy</a></code> to bound the time for any request. You can also create your own policies that combine time and error counts. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adbd684a9bb9eb992890a4b9d17b4b03f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbd684a9bb9eb992890a4b9d17b4b03f">&#9670;&nbsp;</a></span>Apply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bigtable::v0::Table::Apply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbigtable_1_1v0_1_1SingleRowMutation.html">SingleRowMutation</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>mut</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempts to apply the mutation to a row. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mut</td><td>the mutation. Note that this function takes ownership (and then discards) the data in the mutation. In general, a <code><a class="el" href="classbigtable_1_1v0_1_1SingleRowMutation.html" title="Represent a single row mutation. ">SingleRowMutation</a></code> can be used to modify and/or delete multiple cells, across different columns and column families.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classbigtable_1_1v0_1_1PermanentMutationFailure.html" title="Report unrecoverable errors in a partially completed mutation. ">PermanentMutationFailure</a></td><td>if the function cannot successfully apply the mutation given the current policies. The exception contains a copy of the original mutation, in case the application wants to retry, log, or otherwise handle the failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5714f0f923da7544cccd11fa943f320b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5714f0f923da7544cccd11fa943f320b">&#9670;&nbsp;</a></span>BulkApply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bigtable::v0::Table::BulkApply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbigtable_1_1v0_1_1BulkMutation.html">BulkMutation</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>mut</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempts to apply mutations to multiple rows. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mut</td><td>the mutations, note that this function takes ownership (and then discards) the data in the mutation. In general, a <code><a class="el" href="classbigtable_1_1v0_1_1BulkMutation.html" title="Represent a set of mutations across multiple rows. ">BulkMutation</a></code> can modify multiple rows, and the modifications for each row can change (or create) multiple cells, across different columns and column families.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classbigtable_1_1v0_1_1PermanentMutationFailure.html" title="Report unrecoverable errors in a partially completed mutation. ">PermanentMutationFailure</a></td><td>based on how the retry policy handles error conditions. Note that not idempotent mutations that are not reported as successful or failed by the server are not sent to the server more than once, and are reported back with a OK status in the exception. The exception contains a copy of the original mutations, in case the application wants to retry, log, or otherwise handle the failed mutations. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a132da5014a26e0e1741e7759979bea5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a132da5014a26e0e1741e7759979bea5f">&#9670;&nbsp;</a></span>table_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string const&amp; bigtable::v0::Table::table_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>client/<a class="el" href="table_8h_source.html">table.h</a></li>
<li>client/<a class="el" href="table_8cc.html">table.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jan 9 2018 18:25:01 for Google Cloud Bigtable C++ Client by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
