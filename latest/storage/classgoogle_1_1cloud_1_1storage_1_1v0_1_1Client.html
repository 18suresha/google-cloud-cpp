<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google Cloud Storage C++ Client: google::cloud::storage::v0::Client Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Google Cloud Storage C++ Client
   &#160;<span id="projectnumber">0.4.0</span>
   </div>
   <div id="projectbrief">A C++ Client Library for Google Cloud Storage</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegoogle.html">google</a></li><li class="navelem"><a class="el" href="namespacegoogle_1_1cloud.html">cloud</a></li><li class="navelem"><a class="el" href="namespacegoogle_1_1cloud_1_1storage.html">storage</a></li><li class="navelem"><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html">v0</a></li><li class="navelem"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html">Client</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">google::cloud::storage::v0::Client Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The Google Cloud Storage (GCS) <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html" title="The Google Cloud Storage (GCS) Client. ">Client</a>.  
 <a href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="client_8h_source.html">google/cloud/storage/client.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Client_1_1NoDecorations.html">NoDecorations</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a tag to disable automatic decorations of the RawClient.  <a href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Client_1_1NoDecorations.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aba458b9e394ae349c2e78c369e5452ba"><td class="memTemplParams" colspan="2">template&lt;typename... Policies&gt; </td></tr>
<tr class="memitem:aba458b9e394ae349c2e78c369e5452ba"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#aba458b9e394ae349c2e78c369e5452ba">Client</a> (<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ClientOptions.html">ClientOptions</a> options, Policies &amp;&amp;... policies)</td></tr>
<tr class="memdesc:aba458b9e394ae349c2e78c369e5452ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the default client type given the options.  <a href="#aba458b9e394ae349c2e78c369e5452ba">More...</a><br /></td></tr>
<tr class="separator:aba458b9e394ae349c2e78c369e5452ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3968afe4aa5f87c5ba749e7ed27cda6f"><td class="memTemplParams" colspan="2">template&lt;typename... Policies&gt; </td></tr>
<tr class="memitem:a3968afe4aa5f87c5ba749e7ed27cda6f"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a3968afe4aa5f87c5ba749e7ed27cda6f">Client</a> (std::shared_ptr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1oauth2_1_1Credentials.html">oauth2::Credentials</a> &gt; credentials, Policies &amp;&amp;... policies)</td></tr>
<tr class="memdesc:a3968afe4aa5f87c5ba749e7ed27cda6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the default client type given the credentials and policies.  <a href="#a3968afe4aa5f87c5ba749e7ed27cda6f">More...</a><br /></td></tr>
<tr class="separator:a3968afe4aa5f87c5ba749e7ed27cda6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c77a6ddf5c5724f3da8828d9946ab26"><td class="memTemplParams" colspan="2">template&lt;typename... Policies&gt; </td></tr>
<tr class="memitem:a2c77a6ddf5c5724f3da8828d9946ab26"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a2c77a6ddf5c5724f3da8828d9946ab26">Client</a> (std::shared_ptr&lt; internal::RawClient &gt; client, Policies &amp;&amp;... policies)</td></tr>
<tr class="memdesc:a2c77a6ddf5c5724f3da8828d9946ab26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a client and maybe override the retry, idempotency, and/or backoff policies.  <a href="#a2c77a6ddf5c5724f3da8828d9946ab26">More...</a><br /></td></tr>
<tr class="separator:a2c77a6ddf5c5724f3da8828d9946ab26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8613f45a4720a446dfc4b83a1b47515"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#ae8613f45a4720a446dfc4b83a1b47515">Client</a> (std::shared_ptr&lt; internal::RawClient &gt; client, <a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Client_1_1NoDecorations.html">NoDecorations</a>)</td></tr>
<tr class="memdesc:ae8613f45a4720a446dfc4b83a1b47515"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a client with a specific RawClient, without decorations.  <a href="#ae8613f45a4720a446dfc4b83a1b47515">More...</a><br /></td></tr>
<tr class="separator:ae8613f45a4720a446dfc4b83a1b47515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84569cd8e135373f6e299c3c146317f6"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; internal::RawClient &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a84569cd8e135373f6e299c3c146317f6">raw_client</a> () const</td></tr>
<tr class="memdesc:a84569cd8e135373f6e299c3c146317f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the underlying <code>RawClient</code>.  <a href="#a84569cd8e135373f6e299c3c146317f6">More...</a><br /></td></tr>
<tr class="separator:a84569cd8e135373f6e299c3c146317f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Bucket operations.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Buckets are the basic containers that hold your data.</p>
<p>Everything that you store in GCS must be contained in a bucket. You can use buckets to organize your data and control access to your data, but unlike directories and folders, you cannot nest buckets.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/key-terms#buckets">https://cloud.google.com/storage/docs/key-terms#buckets</a> for more information about GCS buckets. </dd></dl>
</div></td></tr>
<tr class="memitem:a2e084a0359a2ebac0000fe41b7f4ea56"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a2e084a0359a2ebac0000fe41b7f4ea56"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ListBucketsReader.html">ListBucketsReader</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a2e084a0359a2ebac0000fe41b7f4ea56">ListBucketsForProject</a> (std::string const &amp;project_id, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a2e084a0359a2ebac0000fe41b7f4ea56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the list of buckets for a given project.  <a href="#a2e084a0359a2ebac0000fe41b7f4ea56">More...</a><br /></td></tr>
<tr class="separator:a2e084a0359a2ebac0000fe41b7f4ea56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2b12e1262905f3c66e910bb944b237c"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:ad2b12e1262905f3c66e910bb944b237c"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ListBucketsReader.html">ListBucketsReader</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#ad2b12e1262905f3c66e910bb944b237c">ListBuckets</a> (Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:ad2b12e1262905f3c66e910bb944b237c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the list of buckets for the default project.  <a href="#ad2b12e1262905f3c66e910bb944b237c">More...</a><br /></td></tr>
<tr class="separator:ad2b12e1262905f3c66e910bb944b237c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf7bdc2c43e29e05d95b529570c07924"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:acf7bdc2c43e29e05d95b529570c07924"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#acf7bdc2c43e29e05d95b529570c07924">CreateBucket</a> (std::string bucket_name, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a> metadata, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:acf7bdc2c43e29e05d95b529570c07924"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new Google Cloud Storage bucket using the default project.  <a href="#acf7bdc2c43e29e05d95b529570c07924">More...</a><br /></td></tr>
<tr class="separator:acf7bdc2c43e29e05d95b529570c07924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7976f4564b4e554cc9293d539cb2bb2"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:ad7976f4564b4e554cc9293d539cb2bb2"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#ad7976f4564b4e554cc9293d539cb2bb2">CreateBucketForProject</a> (std::string bucket_name, std::string project_id, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a> metadata, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:ad7976f4564b4e554cc9293d539cb2bb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new Google Cloud Storage Bucket in a given project.  <a href="#ad7976f4564b4e554cc9293d539cb2bb2">More...</a><br /></td></tr>
<tr class="separator:ad7976f4564b4e554cc9293d539cb2bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad461a2097a6159169223afb700a4112"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:aad461a2097a6159169223afb700a4112"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#aad461a2097a6159169223afb700a4112">GetBucketMetadata</a> (std::string const &amp;bucket_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:aad461a2097a6159169223afb700a4112"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the bucket metadata.  <a href="#aad461a2097a6159169223afb700a4112">More...</a><br /></td></tr>
<tr class="separator:aad461a2097a6159169223afb700a4112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f9d82c55e74908fb6f47837c010b1e"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a19f9d82c55e74908fb6f47837c010b1e"><td class="memTemplItemLeft" align="right" valign="top">Status&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a19f9d82c55e74908fb6f47837c010b1e">DeleteBucket</a> (std::string const &amp;bucket_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a19f9d82c55e74908fb6f47837c010b1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a Google Cloud Storage Bucket.  <a href="#a19f9d82c55e74908fb6f47837c010b1e">More...</a><br /></td></tr>
<tr class="separator:a19f9d82c55e74908fb6f47837c010b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeafcd6f543c55eade26544a9cde8e6c6"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:aeafcd6f543c55eade26544a9cde8e6c6"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#aeafcd6f543c55eade26544a9cde8e6c6">UpdateBucket</a> (std::string bucket_name, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a> metadata, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:aeafcd6f543c55eade26544a9cde8e6c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the metadata in a Google Cloud Storage Bucket.  <a href="#aeafcd6f543c55eade26544a9cde8e6c6">More...</a><br /></td></tr>
<tr class="separator:aeafcd6f543c55eade26544a9cde8e6c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ea1ef9dd607ae14a36e38ed0369688a"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a5ea1ef9dd607ae14a36e38ed0369688a"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a5ea1ef9dd607ae14a36e38ed0369688a">PatchBucket</a> (std::string bucket_name, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a> const &amp;original, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a> const &amp;updated, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a5ea1ef9dd607ae14a36e38ed0369688a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the difference between two <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html" title="Represents a Google Cloud Storage Bucket Metadata object. ">BucketMetadata</a> objects and patches a bucket based on that difference.  <a href="#a5ea1ef9dd607ae14a36e38ed0369688a">More...</a><br /></td></tr>
<tr class="separator:a5ea1ef9dd607ae14a36e38ed0369688a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae93ac15bc1f0a4b394995a01af0472eb"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:ae93ac15bc1f0a4b394995a01af0472eb"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#ae93ac15bc1f0a4b394995a01af0472eb">PatchBucket</a> (std::string bucket_name, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadataPatchBuilder.html">BucketMetadataPatchBuilder</a> const &amp;builder, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:ae93ac15bc1f0a4b394995a01af0472eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Patches the metadata in a Google Cloud Storage Bucket given a desired set changes.  <a href="#ae93ac15bc1f0a4b394995a01af0472eb">More...</a><br /></td></tr>
<tr class="separator:ae93ac15bc1f0a4b394995a01af0472eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d0a35e550d682a750dd3a4f24fd054f"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a8d0a35e550d682a750dd3a4f24fd054f"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; IamPolicy &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a8d0a35e550d682a750dd3a4f24fd054f">GetBucketIamPolicy</a> (std::string const &amp;bucket_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a8d0a35e550d682a750dd3a4f24fd054f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the <a class="elRef" doxygen="/v/build-output/ubuntu-18.04-gcc-Release/google/cloud/cloud.tag:../common/" href="../common/structgoogle_1_1cloud_1_1v0_1_1IamPolicy.html">IAM policy</a> for a Bucket.  <a href="#a8d0a35e550d682a750dd3a4f24fd054f">More...</a><br /></td></tr>
<tr class="separator:a8d0a35e550d682a750dd3a4f24fd054f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a802329cdf98fca30947c72939a2db238"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a802329cdf98fca30947c72939a2db238"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; IamPolicy &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a802329cdf98fca30947c72939a2db238">SetBucketIamPolicy</a> (std::string const &amp;bucket_name, IamPolicy const &amp;iam_policy, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a802329cdf98fca30947c72939a2db238"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the <a class="elRef" doxygen="/v/build-output/ubuntu-18.04-gcc-Release/google/cloud/cloud.tag:../common/" href="../common/structgoogle_1_1cloud_1_1v0_1_1IamPolicy.html">IAM Policy</a> for a Bucket.  <a href="#a802329cdf98fca30947c72939a2db238">More...</a><br /></td></tr>
<tr class="separator:a802329cdf98fca30947c72939a2db238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a261604a6537149c9ded66d46b5cd4768"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a261604a6537149c9ded66d46b5cd4768"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; std::vector&lt; std::string &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a261604a6537149c9ded66d46b5cd4768">TestBucketIamPermissions</a> (std::string bucket_name, std::vector&lt; std::string &gt; permissions, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a261604a6537149c9ded66d46b5cd4768"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests the IAM permissions of the caller against a Bucket.  <a href="#a261604a6537149c9ded66d46b5cd4768">More...</a><br /></td></tr>
<tr class="separator:a261604a6537149c9ded66d46b5cd4768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2651b18bf08dddf6a21ca66ed8067ab9"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a2651b18bf08dddf6a21ca66ed8067ab9"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a2651b18bf08dddf6a21ca66ed8067ab9">LockBucketRetentionPolicy</a> (std::string const &amp;bucket_name, std::uint64_t metageneration, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a2651b18bf08dddf6a21ca66ed8067ab9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks the retention policy for a bucket.  <a href="#a2651b18bf08dddf6a21ca66ed8067ab9">More...</a><br /></td></tr>
<tr class="separator:a2651b18bf08dddf6a21ca66ed8067ab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Object operations</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Objects are the individual pieces of data that you store in GCS.</p>
<p>Objects have two components: <em>object data</em> and <em>object metadata</em>. Object data (sometimes referred to as <em>media</em>) is typically a file that you want to store in GCS. Object metadata is information that describe various object qualities.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/key-terms#objects">https://cloud.google.com/storage/docs/key-terms#objects</a> for more information about GCS objects. </dd></dl>
</div></td></tr>
<tr class="memitem:a55967cfd8db04eb0fa408720f3fbd018"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a55967cfd8db04eb0fa408720f3fbd018"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a55967cfd8db04eb0fa408720f3fbd018">InsertObject</a> (std::string const &amp;bucket_name, std::string const &amp;object_name, std::string contents, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a55967cfd8db04eb0fa408720f3fbd018"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an object given its name and contents.  <a href="#a55967cfd8db04eb0fa408720f3fbd018">More...</a><br /></td></tr>
<tr class="separator:a55967cfd8db04eb0fa408720f3fbd018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb5908b36999c1a3a357220e0f8e59a4"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:aeb5908b36999c1a3a357220e0f8e59a4"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#aeb5908b36999c1a3a357220e0f8e59a4">CopyObject</a> (std::string source_bucket_name, std::string source_object_name, std::string destination_bucket_name, std::string destination_object_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:aeb5908b36999c1a3a357220e0f8e59a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies an existing object.  <a href="#aeb5908b36999c1a3a357220e0f8e59a4">More...</a><br /></td></tr>
<tr class="separator:aeb5908b36999c1a3a357220e0f8e59a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7a1d66157dbb09777466b0e35d8dc33"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:ae7a1d66157dbb09777466b0e35d8dc33"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#ae7a1d66157dbb09777466b0e35d8dc33">GetObjectMetadata</a> (std::string const &amp;bucket_name, std::string const &amp;object_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:ae7a1d66157dbb09777466b0e35d8dc33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the object metadata.  <a href="#ae7a1d66157dbb09777466b0e35d8dc33">More...</a><br /></td></tr>
<tr class="separator:ae7a1d66157dbb09777466b0e35d8dc33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f18342a0d51ecb3a95aa5e121eee0f5"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a6f18342a0d51ecb3a95aa5e121eee0f5"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ListObjectsReader.html">ListObjectsReader</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a6f18342a0d51ecb3a95aa5e121eee0f5">ListObjects</a> (std::string const &amp;bucket_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a6f18342a0d51ecb3a95aa5e121eee0f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lists the objects in a bucket.  <a href="#a6f18342a0d51ecb3a95aa5e121eee0f5">More...</a><br /></td></tr>
<tr class="separator:a6f18342a0d51ecb3a95aa5e121eee0f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a511f352533a2bda918c37f05b02f1469"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a511f352533a2bda918c37f05b02f1469"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectReadStream.html">ObjectReadStream</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a511f352533a2bda918c37f05b02f1469">ReadObject</a> (std::string const &amp;bucket_name, std::string const &amp;object_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a511f352533a2bda918c37f05b02f1469"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the contents of an object.  <a href="#a511f352533a2bda918c37f05b02f1469">More...</a><br /></td></tr>
<tr class="separator:a511f352533a2bda918c37f05b02f1469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55de30092d0f5159a6f6a7b55d5e38f"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:ad55de30092d0f5159a6f6a7b55d5e38f"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectWriteStream.html">ObjectWriteStream</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#ad55de30092d0f5159a6f6a7b55d5e38f">WriteObject</a> (std::string const &amp;bucket_name, std::string const &amp;object_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:ad55de30092d0f5159a6f6a7b55d5e38f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes contents into an object.  <a href="#ad55de30092d0f5159a6f6a7b55d5e38f">More...</a><br /></td></tr>
<tr class="separator:ad55de30092d0f5159a6f6a7b55d5e38f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b80eec7745c6a68bbb37aade0caf3df"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a2b80eec7745c6a68bbb37aade0caf3df"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a2b80eec7745c6a68bbb37aade0caf3df">UploadFile</a> (std::string const &amp;file_name, std::string const &amp;bucket_name, std::string const &amp;object_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a2b80eec7745c6a68bbb37aade0caf3df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uploads a file to an object.  <a href="#a2b80eec7745c6a68bbb37aade0caf3df">More...</a><br /></td></tr>
<tr class="separator:a2b80eec7745c6a68bbb37aade0caf3df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a019bbf3abb0ee08de7fdb82444bb9833"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a019bbf3abb0ee08de7fdb82444bb9833"><td class="memTemplItemLeft" align="right" valign="top">Status&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a019bbf3abb0ee08de7fdb82444bb9833">DownloadToFile</a> (std::string const &amp;bucket_name, std::string const &amp;object_name, std::string const &amp;file_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a019bbf3abb0ee08de7fdb82444bb9833"><td class="mdescLeft">&#160;</td><td class="mdescRight">Downloads a Cloud Storage object to a file.  <a href="#a019bbf3abb0ee08de7fdb82444bb9833">More...</a><br /></td></tr>
<tr class="separator:a019bbf3abb0ee08de7fdb82444bb9833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7769fa20bffa6640cffff572a3e28fd1"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a7769fa20bffa6640cffff572a3e28fd1"><td class="memTemplItemLeft" align="right" valign="top">Status&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a7769fa20bffa6640cffff572a3e28fd1">DeleteObject</a> (std::string const &amp;bucket_name, std::string const &amp;object_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a7769fa20bffa6640cffff572a3e28fd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an object.  <a href="#a7769fa20bffa6640cffff572a3e28fd1">More...</a><br /></td></tr>
<tr class="separator:a7769fa20bffa6640cffff572a3e28fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e8c495cc20cfeadb81995c3a77e37ab"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a6e8c495cc20cfeadb81995c3a77e37ab"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a6e8c495cc20cfeadb81995c3a77e37ab">UpdateObject</a> (std::string bucket_name, std::string object_name, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a> metadata, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a6e8c495cc20cfeadb81995c3a77e37ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the metadata in a Google Cloud Storage Object.  <a href="#a6e8c495cc20cfeadb81995c3a77e37ab">More...</a><br /></td></tr>
<tr class="separator:a6e8c495cc20cfeadb81995c3a77e37ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f9d968a1b79e5333709316bb1b27ace"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a9f9d968a1b79e5333709316bb1b27ace"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a9f9d968a1b79e5333709316bb1b27ace">PatchObject</a> (std::string bucket_name, std::string object_name, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a> const &amp;original, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a> const &amp;updated, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a9f9d968a1b79e5333709316bb1b27ace"><td class="mdescLeft">&#160;</td><td class="mdescRight">Patches the metadata in a Google Cloud Storage Object.  <a href="#a9f9d968a1b79e5333709316bb1b27ace">More...</a><br /></td></tr>
<tr class="separator:a9f9d968a1b79e5333709316bb1b27ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb1a1f9f4a6e68c83437f22a2eac78e1"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:abb1a1f9f4a6e68c83437f22a2eac78e1"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#abb1a1f9f4a6e68c83437f22a2eac78e1">PatchObject</a> (std::string bucket_name, std::string object_name, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadataPatchBuilder.html">ObjectMetadataPatchBuilder</a> const &amp;builder, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:abb1a1f9f4a6e68c83437f22a2eac78e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Patches the metadata in a Google Cloud Storage Object.  <a href="#abb1a1f9f4a6e68c83437f22a2eac78e1">More...</a><br /></td></tr>
<tr class="separator:abb1a1f9f4a6e68c83437f22a2eac78e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6615b313ce6fa7d0e356d76d900babeb"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a6615b313ce6fa7d0e356d76d900babeb"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a6615b313ce6fa7d0e356d76d900babeb">ComposeObject</a> (std::string bucket_name, std::vector&lt; <a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1ComposeSourceObject.html">ComposeSourceObject</a> &gt; source_objects, std::string destination_object_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a6615b313ce6fa7d0e356d76d900babeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Composes existing objects into a new object in the same bucket.  <a href="#a6615b313ce6fa7d0e356d76d900babeb">More...</a><br /></td></tr>
<tr class="separator:a6615b313ce6fa7d0e356d76d900babeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f1e39a3259246f296cb38627426b6e"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a16f1e39a3259246f296cb38627426b6e"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectRewriter.html">ObjectRewriter</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a16f1e39a3259246f296cb38627426b6e">RewriteObject</a> (std::string source_bucket_name, std::string source_object_name, std::string destination_bucket_name, std::string destination_object_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a16f1e39a3259246f296cb38627426b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectRewriter.html" title="Complete long running object rewrite operations. ">ObjectRewriter</a></code> to copy the source object.  <a href="#a16f1e39a3259246f296cb38627426b6e">More...</a><br /></td></tr>
<tr class="separator:a16f1e39a3259246f296cb38627426b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada8f04abb2ebbceae9272fd3d6a3d2c4"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:ada8f04abb2ebbceae9272fd3d6a3d2c4"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectRewriter.html">ObjectRewriter</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#ada8f04abb2ebbceae9272fd3d6a3d2c4">ResumeRewriteObject</a> (std::string source_bucket_name, std::string source_object_name, std::string destination_bucket_name, std::string destination_object_name, std::string rewrite_token, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:ada8f04abb2ebbceae9272fd3d6a3d2c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectRewriter.html" title="Complete long running object rewrite operations. ">ObjectRewriter</a></code> to resume a previously created rewrite.  <a href="#ada8f04abb2ebbceae9272fd3d6a3d2c4">More...</a><br /></td></tr>
<tr class="separator:ada8f04abb2ebbceae9272fd3d6a3d2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a670b4499a7a4993f8a22f04ffe158235"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a670b4499a7a4993f8a22f04ffe158235"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a670b4499a7a4993f8a22f04ffe158235">RewriteObjectBlocking</a> (std::string source_bucket_name, std::string source_object_name, std::string destination_bucket_name, std::string destination_object_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a670b4499a7a4993f8a22f04ffe158235"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewrites the object, blocking until the rewrite completes, and returns the resulting <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html" title="Represents the metadata for a Google Cloud Storage Object. ">ObjectMetadata</a></code>.  <a href="#a670b4499a7a4993f8a22f04ffe158235">More...</a><br /></td></tr>
<tr class="separator:a670b4499a7a4993f8a22f04ffe158235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Bucket Access Control List operations.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>You can control who has access to your GCS buckets and objects as well as what level of access they have.</p>
<dl class="section note"><dt>Note</dt><dd>In most cases, you should use IAM permissions instead of ACLs to control access to buckets.</dd>
<dd>
All buckets are owned by the project owners group. Project owners are granted <code>OWNER</code> permissions to all buckets inside their project. Bucket and object ownership cannot be changed by modifying ACLs.</dd>
<dd>
When you apply a new ACL to a bucket, GCS adds <code>OWNER</code> permission to the bucket if you omit the grants. You cannot remove the project owners group from a bucket ACL. Attempts to do so will appear to succeed, but the service will add the project owners group into the new ACL before applying it.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/">https://cloud.google.com/storage/docs/access-control/</a> for more information about access control in GCS.</dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#defaultbuckets">https://cloud.google.com/storage/docs/access-control/lists#defaultbuckets</a> for more details about the default owners for a bucket. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameters. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#permissions">https://cloud.google.com/storage/docs/access-control/lists#permissions</a> for the format of the <code>role</code> parameters. </dd></dl>
</div></td></tr>
<tr class="memitem:a9c6b0882aefaba2c7d7b04e93e507c7a"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a9c6b0882aefaba2c7d7b04e93e507c7a"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; std::vector&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a> &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a9c6b0882aefaba2c7d7b04e93e507c7a">ListBucketAcl</a> (std::string const &amp;bucket_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a9c6b0882aefaba2c7d7b04e93e507c7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the list of <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html" title="Wraps the bucketAccessControl resource in Google Cloud Storage. ">BucketAccessControl</a></code> items for a bucket.  <a href="#a9c6b0882aefaba2c7d7b04e93e507c7a">More...</a><br /></td></tr>
<tr class="separator:a9c6b0882aefaba2c7d7b04e93e507c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0811e99961bb1ef4b54bfc4c6e556893"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a0811e99961bb1ef4b54bfc4c6e556893"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a0811e99961bb1ef4b54bfc4c6e556893">CreateBucketAcl</a> (std::string const &amp;bucket_name, std::string const &amp;entity, std::string const &amp;role, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a0811e99961bb1ef4b54bfc4c6e556893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new entry in a bucket ACL.  <a href="#a0811e99961bb1ef4b54bfc4c6e556893">More...</a><br /></td></tr>
<tr class="separator:a0811e99961bb1ef4b54bfc4c6e556893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a3278f21ca3b992f2dba080699859b6"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a9a3278f21ca3b992f2dba080699859b6"><td class="memTemplItemLeft" align="right" valign="top">Status&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a9a3278f21ca3b992f2dba080699859b6">DeleteBucketAcl</a> (std::string const &amp;bucket_name, std::string const &amp;entity, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a9a3278f21ca3b992f2dba080699859b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an entry from a bucket ACL.  <a href="#a9a3278f21ca3b992f2dba080699859b6">More...</a><br /></td></tr>
<tr class="separator:a9a3278f21ca3b992f2dba080699859b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0c02aad9ca9b14d3fb0a7b5e1a1351f"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:ab0c02aad9ca9b14d3fb0a7b5e1a1351f"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#ab0c02aad9ca9b14d3fb0a7b5e1a1351f">GetBucketAcl</a> (std::string const &amp;bucket_name, std::string const &amp;entity, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:ab0c02aad9ca9b14d3fb0a7b5e1a1351f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the value of an existing bucket ACL.  <a href="#ab0c02aad9ca9b14d3fb0a7b5e1a1351f">More...</a><br /></td></tr>
<tr class="separator:ab0c02aad9ca9b14d3fb0a7b5e1a1351f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f1d83a6d8703ce457827ae274f35112"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a8f1d83a6d8703ce457827ae274f35112"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a8f1d83a6d8703ce457827ae274f35112">UpdateBucketAcl</a> (std::string const &amp;bucket_name, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a> const &amp;acl, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a8f1d83a6d8703ce457827ae274f35112"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the value of an existing bucket ACL.  <a href="#a8f1d83a6d8703ce457827ae274f35112">More...</a><br /></td></tr>
<tr class="separator:a8f1d83a6d8703ce457827ae274f35112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa460f005a82081687fea325871246ac8"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:aa460f005a82081687fea325871246ac8"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#aa460f005a82081687fea325871246ac8">PatchBucketAcl</a> (std::string const &amp;bucket_name, std::string const &amp;entity, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a> const &amp;original_acl, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a> const &amp;new_acl, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:aa460f005a82081687fea325871246ac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Patches the value of an existing bucket ACL.  <a href="#aa460f005a82081687fea325871246ac8">More...</a><br /></td></tr>
<tr class="separator:aa460f005a82081687fea325871246ac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c064da62f5307b7b3197eec1d03e8a6"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a5c064da62f5307b7b3197eec1d03e8a6"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a5c064da62f5307b7b3197eec1d03e8a6">PatchBucketAcl</a> (std::string const &amp;bucket_name, std::string const &amp;entity, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControlPatchBuilder.html">BucketAccessControlPatchBuilder</a> const &amp;builder, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a5c064da62f5307b7b3197eec1d03e8a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Patches the value of an existing bucket ACL.  <a href="#a5c064da62f5307b7b3197eec1d03e8a6">More...</a><br /></td></tr>
<tr class="separator:a5c064da62f5307b7b3197eec1d03e8a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Object Access Control List operations.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>You can control who has access to your GCS buckets and objects as well as what level of access they have.</p>
<dl class="section note"><dt>Note</dt><dd>When you upload (create) an object the entity that uploads the object is listed as the object owner. This can be a user or a service account, depending on what credentials are used to authenticate with GCS. Object ownership cannot be changed by modifying ACLs. You can change object ownership only by overwriting the object while authenticated as the desired owner.</dd>
<dd>
When you apply a new ACL to an object, GCS adds <code>OWNER</code> permission to the object if you omit the grants.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/">https://cloud.google.com/storage/docs/access-control/</a> for more information about access control in GCS. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameters. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#permissions">https://cloud.google.com/storage/docs/access-control/lists#permissions</a> for the format of the <code>role</code> parameters. </dd></dl>
</div></td></tr>
<tr class="memitem:a6b8b97aedf09200a73d21e1b8b816cf8"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a6b8b97aedf09200a73d21e1b8b816cf8"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; std::vector&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a6b8b97aedf09200a73d21e1b8b816cf8">ListObjectAcl</a> (std::string const &amp;bucket_name, std::string const &amp;object_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a6b8b97aedf09200a73d21e1b8b816cf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the list of <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html" title="Wraps the objectAccessControl resource in Google Cloud Storage. ">ObjectAccessControl</a> items for an object.  <a href="#a6b8b97aedf09200a73d21e1b8b816cf8">More...</a><br /></td></tr>
<tr class="separator:a6b8b97aedf09200a73d21e1b8b816cf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af40ca462c1c93310c96f35ebf20e9fe7"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:af40ca462c1c93310c96f35ebf20e9fe7"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#af40ca462c1c93310c96f35ebf20e9fe7">CreateObjectAcl</a> (std::string const &amp;bucket_name, std::string const &amp;object_name, std::string const &amp;entity, std::string const &amp;role, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:af40ca462c1c93310c96f35ebf20e9fe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new entry in the object ACL.  <a href="#af40ca462c1c93310c96f35ebf20e9fe7">More...</a><br /></td></tr>
<tr class="separator:af40ca462c1c93310c96f35ebf20e9fe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab93ee8017989e9c40ef58491558f353f"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:ab93ee8017989e9c40ef58491558f353f"><td class="memTemplItemLeft" align="right" valign="top">Status&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#ab93ee8017989e9c40ef58491558f353f">DeleteObjectAcl</a> (std::string const &amp;bucket_name, std::string const &amp;object_name, std::string const &amp;entity, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:ab93ee8017989e9c40ef58491558f353f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes one access control entry in one object.  <a href="#ab93ee8017989e9c40ef58491558f353f">More...</a><br /></td></tr>
<tr class="separator:ab93ee8017989e9c40ef58491558f353f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a8b32a2b001851d8bd7956a826f05f9"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a8a8b32a2b001851d8bd7956a826f05f9"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a8a8b32a2b001851d8bd7956a826f05f9">GetObjectAcl</a> (std::string const &amp;bucket_name, std::string const &amp;object_name, std::string const &amp;entity, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a8a8b32a2b001851d8bd7956a826f05f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the value of an existing object ACL.  <a href="#a8a8b32a2b001851d8bd7956a826f05f9">More...</a><br /></td></tr>
<tr class="separator:a8a8b32a2b001851d8bd7956a826f05f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f7d5ee8958d7912552af525c1be3574"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a3f7d5ee8958d7912552af525c1be3574"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a3f7d5ee8958d7912552af525c1be3574">UpdateObjectAcl</a> (std::string const &amp;bucket_name, std::string const &amp;object_name, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> const &amp;acl, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a3f7d5ee8958d7912552af525c1be3574"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the value of an existing object ACL.  <a href="#a3f7d5ee8958d7912552af525c1be3574">More...</a><br /></td></tr>
<tr class="separator:a3f7d5ee8958d7912552af525c1be3574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c67c5dda66cbc99a4f4c0ac37e2ea8c"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a1c67c5dda66cbc99a4f4c0ac37e2ea8c"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a1c67c5dda66cbc99a4f4c0ac37e2ea8c">PatchObjectAcl</a> (std::string const &amp;bucket_name, std::string const &amp;object_name, std::string const &amp;entity, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> const &amp;original_acl, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> const &amp;new_acl, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a1c67c5dda66cbc99a4f4c0ac37e2ea8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Patches the value of an existing object ACL.  <a href="#a1c67c5dda66cbc99a4f4c0ac37e2ea8c">More...</a><br /></td></tr>
<tr class="separator:a1c67c5dda66cbc99a4f4c0ac37e2ea8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11269bcd0eb25f9c6bbe3d59b20e5ce8"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a11269bcd0eb25f9c6bbe3d59b20e5ce8"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a11269bcd0eb25f9c6bbe3d59b20e5ce8">PatchObjectAcl</a> (std::string const &amp;bucket_name, std::string const &amp;object_name, std::string const &amp;entity, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControlPatchBuilder.html">ObjectAccessControlPatchBuilder</a> const &amp;builder, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a11269bcd0eb25f9c6bbe3d59b20e5ce8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Patches the value of an existing object ACL.  <a href="#a11269bcd0eb25f9c6bbe3d59b20e5ce8">More...</a><br /></td></tr>
<tr class="separator:a11269bcd0eb25f9c6bbe3d59b20e5ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Bucket Default Object Access Control List operations.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>When you upload an object to GCS without specifying an ACL, the object is created with the Default Object ACL for its bucket.</p>
<p>These operations are used to query and modify the Default Object ACL of a bucket.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/lists#defaultobjects">https://cloud.google.com/storage/docs/access-control/lists#defaultobjects</a> for more information on default object ACLs. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameters. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#permissions">https://cloud.google.com/storage/docs/access-control/lists#permissions</a> for the format of the <code>role</code> parameters. </dd></dl>
</div></td></tr>
<tr class="memitem:a3e2d8e0446b97e2d9583e9ad4a309670"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a3e2d8e0446b97e2d9583e9ad4a309670"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; std::vector&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a3e2d8e0446b97e2d9583e9ad4a309670">ListDefaultObjectAcl</a> (std::string const &amp;bucket_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a3e2d8e0446b97e2d9583e9ad4a309670"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the default object ACL for a bucket as a vector of <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html" title="Wraps the objectAccessControl resource in Google Cloud Storage. ">ObjectAccessControl</a></code> items.  <a href="#a3e2d8e0446b97e2d9583e9ad4a309670">More...</a><br /></td></tr>
<tr class="separator:a3e2d8e0446b97e2d9583e9ad4a309670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ed1d2b39a52815637e9cf9747a60a8"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a09ed1d2b39a52815637e9cf9747a60a8"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a09ed1d2b39a52815637e9cf9747a60a8">CreateDefaultObjectAcl</a> (std::string const &amp;bucket_name, std::string const &amp;entity, std::string const &amp;role, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a09ed1d2b39a52815637e9cf9747a60a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new entry in the default object ACL for a bucket.  <a href="#a09ed1d2b39a52815637e9cf9747a60a8">More...</a><br /></td></tr>
<tr class="separator:a09ed1d2b39a52815637e9cf9747a60a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf40e6698d2f6074783fd95ee219d4bb"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:aaf40e6698d2f6074783fd95ee219d4bb"><td class="memTemplItemLeft" align="right" valign="top">Status&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#aaf40e6698d2f6074783fd95ee219d4bb">DeleteDefaultObjectAcl</a> (std::string const &amp;bucket_name, std::string const &amp;entity, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:aaf40e6698d2f6074783fd95ee219d4bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an entry from the default object ACL in a bucket.  <a href="#aaf40e6698d2f6074783fd95ee219d4bb">More...</a><br /></td></tr>
<tr class="separator:aaf40e6698d2f6074783fd95ee219d4bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc9f8e449de697b13f83ee1d4e08d808"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:afc9f8e449de697b13f83ee1d4e08d808"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#afc9f8e449de697b13f83ee1d4e08d808">GetDefaultObjectAcl</a> (std::string const &amp;bucket_name, std::string const &amp;entity, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:afc9f8e449de697b13f83ee1d4e08d808"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the value of a default object ACL in a bucket.  <a href="#afc9f8e449de697b13f83ee1d4e08d808">More...</a><br /></td></tr>
<tr class="separator:afc9f8e449de697b13f83ee1d4e08d808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0cc3774c205d86ebba8f83a4714ad64"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:af0cc3774c205d86ebba8f83a4714ad64"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#af0cc3774c205d86ebba8f83a4714ad64">UpdateDefaultObjectAcl</a> (std::string const &amp;bucket_name, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> const &amp;acl, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:af0cc3774c205d86ebba8f83a4714ad64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the value of an existing default object ACL.  <a href="#af0cc3774c205d86ebba8f83a4714ad64">More...</a><br /></td></tr>
<tr class="separator:af0cc3774c205d86ebba8f83a4714ad64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef6e76fc301f2ee0d1ece22973e29fde"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:aef6e76fc301f2ee0d1ece22973e29fde"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#aef6e76fc301f2ee0d1ece22973e29fde">PatchDefaultObjectAcl</a> (std::string const &amp;bucket_name, std::string const &amp;entity, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> const &amp;original_acl, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> const &amp;new_acl, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:aef6e76fc301f2ee0d1ece22973e29fde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Patches the value of an existing default object ACL.  <a href="#aef6e76fc301f2ee0d1ece22973e29fde">More...</a><br /></td></tr>
<tr class="separator:aef6e76fc301f2ee0d1ece22973e29fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe836200fb5609e002502e54a0f740e"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:adfe836200fb5609e002502e54a0f740e"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#adfe836200fb5609e002502e54a0f740e">PatchDefaultObjectAcl</a> (std::string const &amp;bucket_name, std::string const &amp;entity, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControlPatchBuilder.html">ObjectAccessControlPatchBuilder</a> const &amp;builder, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:adfe836200fb5609e002502e54a0f740e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Patches the value of an existing default object ACL.  <a href="#adfe836200fb5609e002502e54a0f740e">More...</a><br /></td></tr>
<tr class="separator:adfe836200fb5609e002502e54a0f740e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Service account operations.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Service accounts allow applications to authenticate and access GCP resources and services.</p>
<p>When acting on your behalf, GCS uses such a service account. GCS creates one service account per project. These operations allow you to query the GCS service account for a project.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/projects#service-accounts">https://cloud.google.com/storage/docs/projects#service-accounts</a> for more information on service accounts. </dd></dl>
</div></td></tr>
<tr class="memitem:adbe09ec4ecc8f697615dd720831cd11f"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:adbe09ec4ecc8f697615dd720831cd11f"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ServiceAccount.html">ServiceAccount</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#adbe09ec4ecc8f697615dd720831cd11f">GetServiceAccountForProject</a> (std::string const &amp;project_id, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:adbe09ec4ecc8f697615dd720831cd11f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the GCS service account for a given project.  <a href="#adbe09ec4ecc8f697615dd720831cd11f">More...</a><br /></td></tr>
<tr class="separator:adbe09ec4ecc8f697615dd720831cd11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8efe362cc08396f24eb52f7e1fb79419"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a8efe362cc08396f24eb52f7e1fb79419"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ServiceAccount.html">ServiceAccount</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a8efe362cc08396f24eb52f7e1fb79419">GetServiceAccount</a> (Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a8efe362cc08396f24eb52f7e1fb79419"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the GCS service account for the default project.  <a href="#a8efe362cc08396f24eb52f7e1fb79419">More...</a><br /></td></tr>
<tr class="separator:a8efe362cc08396f24eb52f7e1fb79419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Signed URL support operations.</div></td></tr>
<tr class="memitem:ae15d05c54c2e9094719514a5856e1cc6"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:ae15d05c54c2e9094719514a5856e1cc6"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; std::string &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#ae15d05c54c2e9094719514a5856e1cc6">CreateV2SignedUrl</a> (std::string verb, std::string bucket_name, std::string object_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:ae15d05c54c2e9094719514a5856e1cc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a signed URL for the given parameters.  <a href="#ae15d05c54c2e9094719514a5856e1cc6">More...</a><br /></td></tr>
<tr class="separator:ae15d05c54c2e9094719514a5856e1cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Pub/Sub operations.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Cloud Pub/Sub Notifications sends information about changes to objects in your buckets to Cloud Pub/Sub, where the information is added to a Cloud Pub/Sub topic of your choice in the form of messages.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/pubsub-notifications">https://cloud.google.com/storage/docs/pubsub-notifications</a> for more information about Cloud Pub/Sub in the context of GCS. </dd></dl>
</div></td></tr>
<tr class="memitem:a7e224615f5a68af7e8acbf183fd98ddb"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a7e224615f5a68af7e8acbf183fd98ddb"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; std::vector&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1NotificationMetadata.html">NotificationMetadata</a> &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a7e224615f5a68af7e8acbf183fd98ddb">ListNotifications</a> (std::string const &amp;bucket_name, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a7e224615f5a68af7e8acbf183fd98ddb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the list of Notifications for a Bucket.  <a href="#a7e224615f5a68af7e8acbf183fd98ddb">More...</a><br /></td></tr>
<tr class="separator:a7e224615f5a68af7e8acbf183fd98ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a7ff9cf88d5e91d27c17e3e0def9e47"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a8a7ff9cf88d5e91d27c17e3e0def9e47"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1NotificationMetadata.html">NotificationMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a8a7ff9cf88d5e91d27c17e3e0def9e47">CreateNotification</a> (std::string const &amp;bucket_name, std::string const &amp;topic_name, std::string const &amp;payload_format, <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1NotificationMetadata.html">NotificationMetadata</a> metadata, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a8a7ff9cf88d5e91d27c17e3e0def9e47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new notification config for a Bucket.  <a href="#a8a7ff9cf88d5e91d27c17e3e0def9e47">More...</a><br /></td></tr>
<tr class="separator:a8a7ff9cf88d5e91d27c17e3e0def9e47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6140dee0cd3f1fe538612bcdb7304f81"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a6140dee0cd3f1fe538612bcdb7304f81"><td class="memTemplItemLeft" align="right" valign="top">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1NotificationMetadata.html">NotificationMetadata</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a6140dee0cd3f1fe538612bcdb7304f81">GetNotification</a> (std::string const &amp;bucket_name, std::string const &amp;notification_id, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a6140dee0cd3f1fe538612bcdb7304f81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the details about a notification config in a given Bucket.  <a href="#a6140dee0cd3f1fe538612bcdb7304f81">More...</a><br /></td></tr>
<tr class="separator:a6140dee0cd3f1fe538612bcdb7304f81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a004baf7af7cd1dc2aac5298815d9adf7"><td class="memTemplParams" colspan="2">template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a004baf7af7cd1dc2aac5298815d9adf7"><td class="memTemplItemLeft" align="right" valign="top">Status&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a004baf7af7cd1dc2aac5298815d9adf7">DeleteNotification</a> (std::string const &amp;bucket_name, std::string const &amp;notification_id, Options &amp;&amp;... options)</td></tr>
<tr class="memdesc:a004baf7af7cd1dc2aac5298815d9adf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete an existing notification config in a given Bucket.  <a href="#a004baf7af7cd1dc2aac5298815d9adf7">More...</a><br /></td></tr>
<tr class="separator:a004baf7af7cd1dc2aac5298815d9adf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a89f22db73c8d5362079084d8ba4f8792"><td class="memItemLeft" align="right" valign="top">static StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html">Client</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a89f22db73c8d5362079084d8ba4f8792">CreateDefaultClient</a> ()</td></tr>
<tr class="memdesc:a89f22db73c8d5362079084d8ba4f8792"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html" title="The Google Cloud Storage (GCS) Client. ">Client</a> using <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ClientOptions.html#a204d6f78e533f249df9368ddc2f3f3ef" title="Creates a ClientOptions with Google Application Default Credentials. ">ClientOptions::CreateDefaultClientOptions()</a>.  <a href="#a89f22db73c8d5362079084d8ba4f8792">More...</a><br /></td></tr>
<tr class="separator:a89f22db73c8d5362079084d8ba4f8792"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The Google Cloud Storage (GCS) <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html" title="The Google Cloud Storage (GCS) Client. ">Client</a>. </p>
<p>This is the main class to interact with GCS. It provides member functions to invoke all the APIs in the service.</p>
<dl class="section user"><dt>Performance</dt><dd>Creating an object of this type is a relatively low-cost operation. Connections to the service are created on demand. Copy-assignment and copy-construction are also relatively low-cost operations, they should be comparable to copying a few shared pointers. The first request (or any request that requires a new connection) incurs the cost of creating the connection and authenticating with the service. Note that the library may need to perform other bookeeping operations that may impact performance. For example, access tokens need to be refreshed from time to time, and this may impact the performance of some operations.</dd></dl>
<dl class="section user"><dt>Thread-safety</dt><dd>Instances of this class created via copy-construction or copy-assignment share the underlying pool of connections. Access to these copies via multiple threads is guaranteed to work. Two threads operating on the same instance of this class is not guaranteed to work.</dd></dl>
<dl class="section user"><dt>Credentials</dt><dd>The default approach for creating a <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html" title="The Google Cloud Storage (GCS) Client. ">Client</a> uses Google Application Default Credentials (ADCs). Because finding or loading ADCs can fail, the returned <code>StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html" title="The Google Cloud Storage (GCS) Client. ">Client</a>&gt;</code> from <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a89f22db73c8d5362079084d8ba4f8792" title="Create a Client using ClientOptions::CreateDefaultClientOptions(). ">CreateDefaultClient()</a></code> should be verified before using it. However, explicitly passing <code>Credentials</code> when creating a <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html" title="The Google Cloud Storage (GCS) Client. ">Client</a> does not have the same potential to fail, so the resulting <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html" title="The Google Cloud Storage (GCS) Client. ">Client</a></code> is not wrapped in a <code>StatusOr</code>. If you wish to use <code>AnonymousCredentials</code> or to supply a specific <code>Credentials</code> type, you can use the functions declared in <a class="el" href="google__credentials_8h.html">google_credentials.h</a>: <div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line"></div><div class="line"><span class="comment">// Implicitly use ADCs:</span></div><div class="line">StatusOr&lt;gcs::Client&gt; client = gcs::Client::CreateDefaultClient();</div><div class="line"><span class="keywordflow">if</span> (!client) {</div><div class="line">  <span class="comment">// Handle failure and return.</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// Or explicitly use ADCs:</span></div><div class="line"><span class="keyword">auto</span> creds = <a class="code" href="namespacegoogle_1_1cloud_1_1storage_1_1v0_1_1oauth2.html#a4a9daff059cd8a1672b508d315dbc710">gcs::oauth2::GoogleDefaultCredentials</a>();</div><div class="line"><span class="keywordflow">if</span> (!creds) {</div><div class="line">  <span class="comment">// Handle failure and return.</span></div><div class="line">}</div><div class="line"><span class="comment">// Status was OK, so create a Client with the given Credentials.</span></div><div class="line">gcs::Client client(gcs::ClientOptions(*creds));</div><div class="line"></div><div class="line"><span class="comment">// Use service account credentials from a JSON keyfile:</span></div><div class="line">std::string path = <span class="stringliteral">&quot;/path/to/keyfile.json&quot;</span>;</div><div class="line"><span class="keyword">auto</span> creds =</div><div class="line">    <a class="code" href="namespacegoogle_1_1cloud_1_1storage_1_1v0_1_1oauth2.html#a9e597e3fd489c13e2cdb69ea3cca54c9">gcs::oauth2::CreateServiceAccountCredentialsFromJsonFilePath</a>(path);</div><div class="line"><span class="keywordflow">if</span> (!creds) {</div><div class="line">  <span class="comment">// Handle failure and return.</span></div><div class="line">}</div><div class="line">gcs::Client client(gcs::ClientOptions(*creds));</div><div class="line"></div><div class="line"><span class="comment">// Use Compute Engine credentials for the instance&#39;s default service account.</span></div><div class="line">gcs::Client client(</div><div class="line">    gcs::ClientOptions(<a class="code" href="namespacegoogle_1_1cloud_1_1storage_1_1v0_1_1oauth2.html#ac0dea38cb93caac610aa939e291b1812">gcs::oauth2::CreateComputeEngineCredentials</a>()));</div><div class="line"></div><div class="line"><span class="comment">// Use no credentials:</span></div><div class="line">gcs::Client client(</div><div class="line">    gcs::ClientOptions(<a class="code" href="namespacegoogle_1_1cloud_1_1storage_1_1v0_1_1oauth2.html#a7e02c68abefd29a0ce3c3e1928ae8ff3">gcs::oauth2::CreateAnonymousCredentials</a>()));</div></div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Error Handling</dt><dd>This class uses <code>StatusOr&lt;T&gt;</code> to report errors. When an operation fails to perform its work the returned <code>StatusOr&lt;T&gt;</code> contains the error details. If the <code>ok()</code> member function in the <code>StatusOr&lt;T&gt;</code> returns <code>true</code> then it contains the expected result. Please consult the <a href="#google::cloud::v0::StatusOr"><code>StatusOr&lt;T&gt;</code> documentation</a> for more details.</dd></dl>
<div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">gcs::Client client = ...;</div><div class="line">google::cloud::StatusOr&lt;gcs::BucketMetadata&gt; bucket_metadata =</div><div class="line">    client.GetBucketMetadata(<span class="stringliteral">&quot;my-bucket&quot;</span>);</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (!bucket_metadata) {</div><div class="line">  std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting metadata for my-bucket: &quot;</span></div><div class="line">            &lt;&lt; bucket_metadata.status() &lt;&lt; std::endl;</div><div class="line">  <span class="keywordflow">return</span>;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// Use bucket_metadata as a smart pointer here, e.g.:</span></div><div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;The generation for &quot;</span> &lt;&lt; bucket_metadata-&gt;name() <span class="stringliteral">&quot; is &quot;</span></div><div class="line">          &lt;&lt; bucket_metadata-&gt;generation() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div></div><!-- fragment --><p>In addition, the <a class="el" href="index.html">main page</a> contains examples using <code>StatusOr&lt;T&gt;</code> to handle errors.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/">https://cloud.google.com/storage/</a> for an overview of GCS.</dd>
<dd>
<a href="https://cloud.google.com/storage/docs/key-terms">https://cloud.google.com/storage/docs/key-terms</a> for an introduction of the key terms used in GCS.</dd>
<dd>
<a href="https://cloud.google.com/storage/docs/json_api/">https://cloud.google.com/storage/docs/json_api/</a> for an overview of the underlying API.</dd>
<dd>
<a href="https://cloud.google.com/docs/authentication/production">https://cloud.google.com/docs/authentication/production</a> for details about Application Default Credentials.</dd>
<dd>
<a class="elRef" doxygen="/v/build-output/ubuntu-18.04-gcc-Release/google/cloud/cloud.tag:../common/" href="../common/classgoogle_1_1cloud_1_1v0_1_1StatusOr.html">google::cloud::v0::StatusOr</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00146">146</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aba458b9e394ae349c2e78c369e5452ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba458b9e394ae349c2e78c369e5452ba">&#9670;&nbsp;</a></span>Client() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Policies&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">google::cloud::storage::v0::Client::Client </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ClientOptions.html">ClientOptions</a>&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Policies &amp;&amp;...&#160;</td>
          <td class="paramname"><em>policies</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates the default client type given the options. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>the client options, these are used to control credentials, buffer sizes, etc. </td></tr>
    <tr><td class="paramname">policies</td><td>the client policies, these control the behavior of the client, for example, how to backoff when an operation needs to be retried, or what operations cannot be retried because they are not idempotent.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency Policy Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](std::string bucket_name, std::string object_name, std::string contents) {</div><div class="line">    <span class="comment">// Create a client that only retries idempotent operations, the default is</span></div><div class="line">    <span class="comment">// to retry all operations.</span></div><div class="line">    StatusOr&lt;gcs::ClientOptions&gt; options =</div><div class="line">        gcs::ClientOptions::CreateDefaultClientOptions();</div><div class="line">    <span class="keywordflow">if</span> (!options) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error creating default ClientOptions, status=&quot;</span></div><div class="line">                &lt;&lt; options.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line">    gcs::Client client{*options, gcs::StrictIdempotencyPolicy()};</div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata =</div><div class="line">        client.InsertObject(bucket_name, object_name, std::move(contents),</div><div class="line">                            gcs::IfGenerationMatch(0));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error inserting object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_metadata.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The object &quot;</span> &lt;&lt; object_metadata-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; was created in bucket &quot;</span> &lt;&lt; object_metadata-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *object_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Modified Retry Policy Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](std::string bucket_name, std::string object_name, std::string contents) {</div><div class="line">    <span class="keyword">auto</span> credentials = <a class="code" href="namespacegoogle_1_1cloud_1_1storage_1_1v0_1_1oauth2.html#a4a9daff059cd8a1672b508d315dbc710">gcs::oauth2::GoogleDefaultCredentials</a>();</div><div class="line">    <span class="keywordflow">if</span> (!credentials) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error obtaining default credentials, status=&quot;</span></div><div class="line">                &lt;&lt; credentials.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line">    <span class="comment">// Create a client that only gives up on the third error. The default policy</span></div><div class="line">    <span class="comment">// is to retry for several minutes.</span></div><div class="line">    StatusOr&lt;gcs::ClientOptions&gt; options =</div><div class="line">        gcs::ClientOptions::CreateDefaultClientOptions();</div><div class="line">    <span class="keywordflow">if</span> (!options) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error creating default ClientOptions, status=&quot;</span></div><div class="line">                &lt;&lt; options.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line">    gcs::Client client{*options, <a class="code" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a0162c1f831f7b500df5a1d2da0d23be4">gcs::LimitedErrorCountRetryPolicy</a>(3)};</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata =</div><div class="line">        client.InsertObject(bucket_name, object_name, std::move(contents),</div><div class="line">                            gcs::IfGenerationMatch(0));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error inserting object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_metadata.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The object &quot;</span> &lt;&lt; object_metadata-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; was created in bucket &quot;</span> &lt;&lt; object_metadata-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *object_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00165">165</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a3968afe4aa5f87c5ba749e7ed27cda6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3968afe4aa5f87c5ba749e7ed27cda6f">&#9670;&nbsp;</a></span>Client() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Policies&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">google::cloud::storage::v0::Client::Client </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1oauth2_1_1Credentials.html">oauth2::Credentials</a> &gt;&#160;</td>
          <td class="paramname"><em>credentials</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Policies &amp;&amp;...&#160;</td>
          <td class="paramname"><em>policies</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates the default client type given the credentials and policies. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">credentials</td><td>a set of credentials to initialize the <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ClientOptions.html" title="Describes the configuration for a storage::Client object. ">ClientOptions</a></code>. </td></tr>
    <tr><td class="paramname">policies</td><td>the client policies, these control the behavior of the client, for example, how to backoff when an operation needs to be retried, or what operations cannot be retried because they are not idempotent.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency Policy Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](std::string bucket_name, std::string object_name, std::string contents) {</div><div class="line">    <span class="comment">// Create a client that only retries idempotent operations, the default is</span></div><div class="line">    <span class="comment">// to retry all operations.</span></div><div class="line">    StatusOr&lt;gcs::ClientOptions&gt; options =</div><div class="line">        gcs::ClientOptions::CreateDefaultClientOptions();</div><div class="line">    <span class="keywordflow">if</span> (!options) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error creating default ClientOptions, status=&quot;</span></div><div class="line">                &lt;&lt; options.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line">    gcs::Client client{*options, gcs::StrictIdempotencyPolicy()};</div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata =</div><div class="line">        client.InsertObject(bucket_name, object_name, std::move(contents),</div><div class="line">                            gcs::IfGenerationMatch(0));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error inserting object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_metadata.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The object &quot;</span> &lt;&lt; object_metadata-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; was created in bucket &quot;</span> &lt;&lt; object_metadata-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *object_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Modified Retry Policy Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](std::string bucket_name, std::string object_name, std::string contents) {</div><div class="line">    <span class="keyword">auto</span> credentials = <a class="code" href="namespacegoogle_1_1cloud_1_1storage_1_1v0_1_1oauth2.html#a4a9daff059cd8a1672b508d315dbc710">gcs::oauth2::GoogleDefaultCredentials</a>();</div><div class="line">    <span class="keywordflow">if</span> (!credentials) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error obtaining default credentials, status=&quot;</span></div><div class="line">                &lt;&lt; credentials.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line">    <span class="comment">// Create a client that only gives up on the third error. The default policy</span></div><div class="line">    <span class="comment">// is to retry for several minutes.</span></div><div class="line">    StatusOr&lt;gcs::ClientOptions&gt; options =</div><div class="line">        gcs::ClientOptions::CreateDefaultClientOptions();</div><div class="line">    <span class="keywordflow">if</span> (!options) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error creating default ClientOptions, status=&quot;</span></div><div class="line">                &lt;&lt; options.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line">    gcs::Client client{*options, <a class="code" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a0162c1f831f7b500df5a1d2da0d23be4">gcs::LimitedErrorCountRetryPolicy</a>(3)};</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata =</div><div class="line">        client.InsertObject(bucket_name, object_name, std::move(contents),</div><div class="line">                            gcs::IfGenerationMatch(0));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error inserting object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_metadata.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The object &quot;</span> &lt;&lt; object_metadata-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; was created in bucket &quot;</span> &lt;&lt; object_metadata-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *object_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00185">185</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a2c77a6ddf5c5724f3da8828d9946ab26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c77a6ddf5c5724f3da8828d9946ab26">&#9670;&nbsp;</a></span>Client() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Policies&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">google::cloud::storage::v0::Client::Client </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; internal::RawClient &gt;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Policies &amp;&amp;...&#160;</td>
          <td class="paramname"><em>policies</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Builds a client and maybe override the retry, idempotency, and/or backoff policies. </p>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00193">193</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="ae8613f45a4720a446dfc4b83a1b47515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8613f45a4720a446dfc4b83a1b47515">&#9670;&nbsp;</a></span>Client() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">google::cloud::storage::v0::Client::Client </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; internal::RawClient &gt;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Client_1_1NoDecorations.html">NoDecorations</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Builds a client with a specific RawClient, without decorations. </p>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00202">202</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6615b313ce6fa7d0e356d76d900babeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6615b313ce6fa7d0e356d76d900babeb">&#9670;&nbsp;</a></span>ComposeObject()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a>&gt; google::cloud::storage::v0::Client::ComposeObject </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1ComposeSourceObject.html">ComposeSourceObject</a> &gt;&#160;</td>
          <td class="paramname"><em>source_objects</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>destination_object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Composes existing objects into a new object in the same bucket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket used for source object and destination object. </td></tr>
    <tr><td class="paramname">source_objects</td><td>objects used to compose <code>destination_object_name</code>. </td></tr>
    <tr><td class="paramname">destination_object_name</td><td>the composed object name. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DestinationPredefinedAcl.html" title="Set the ACL to a predefined value when copying Objects. ">DestinationPredefinedAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1EncryptionKey.html" title="An optional parameter to set the Customer-Supplied Encryption key. ">EncryptionKey</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1KmsKeyName.html" title="Configure the Customer-Managed Encryption Key (CMEK) for an upload. ">KmsKeyName</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1WithObjectMetadata.html" title="A request option to define the object metadata attributes. ">WithObjectMetadata</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name,</div><div class="line">     std::string destination_object_name,</div><div class="line">     std::vector&lt;gcs::ComposeSourceObject&gt; compose_objects) {</div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; composed_object = client.ComposeObject(</div><div class="line">        bucket_name, compose_objects, destination_object_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!composed_object) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error composing objects in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; composed_object.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Composed new object &quot;</span> &lt;&lt; composed_object-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; composed_object-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *composed_object &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example: using encrypted objects with CSEK</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name,</div><div class="line">     std::string destination_object_name, std::string base64_aes256_key,</div><div class="line">     std::vector&lt;gcs::ComposeSourceObject&gt; compose_objects) {</div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; composed_object = client.ComposeObject(</div><div class="line">        bucket_name, compose_objects, destination_object_name,</div><div class="line">        gcs::EncryptionKey::FromBase64Key(base64_aes256_key));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!composed_object) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error composing objects in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; composed_object.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Composed new object &quot;</span> &lt;&lt; composed_object-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; composed_object-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *composed_object &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01150">1150</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="aeb5908b36999c1a3a357220e0f8e59a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb5908b36999c1a3a357220e0f8e59a4">&#9670;&nbsp;</a></span>CopyObject()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a>&gt; google::cloud::storage::v0::Client::CopyObject </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>source_bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>source_object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>destination_bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>destination_object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies an existing object. </p>
<p>Use <code>CopyObject</code> to copy between objects in the same location and storage class. Copying objects across locations or storage classes can fail for large objects and retrying the operation will not succeed.</p>
<dl class="section note"><dt>Note</dt><dd>Prefer using <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a16f1e39a3259246f296cb38627426b6e" title="Creates an ObjectRewriter to copy the source object. ">RewriteObject()</a></code> to copy objects, <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a16f1e39a3259246f296cb38627426b6e" title="Creates an ObjectRewriter to copy the source object. ">RewriteObject()</a></code> can copy objects to different locations, with different storage class, and/or with different encryption keys.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source_bucket_name</td><td>the name of the bucket that contains the object to be copied. </td></tr>
    <tr><td class="paramname">source_object_name</td><td>the name of the object to copy. </td></tr>
    <tr><td class="paramname">destination_bucket_name</td><td>the name of the bucket that will contain the new object. </td></tr>
    <tr><td class="paramname">destination_object_name</td><td>the name of the new object. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DestinationPredefinedAcl.html" title="Set the ACL to a predefined value when copying Objects. ">DestinationPredefinedAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1EncryptionKey.html" title="An optional parameter to set the Customer-Supplied Encryption key. ">EncryptionKey</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the object generation matches. ">IfGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceGenerationMatch.html" title="A pre-condition: the request succeeds if the source object generation matches. ">IfSourceGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the source object generation matches. ">IfSourceGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceMetagenerationMatch.html" title="A pre-condition: the request succeeds if the source object metadata generation matches. ">IfSourceMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the source object metadata generation matches...">IfSourceMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1SourceGeneration.html" title="Set the generation for the source object in copy operations. ">SourceGeneration</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1WithObjectMetadata.html" title="A request option to define the object metadata attributes. ">WithObjectMetadata</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string source_bucket_name,</div><div class="line">     std::string source_object_name, std::string destination_bucket_name,</div><div class="line">     std::string destination_object_name) {</div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; new_copy_meta =</div><div class="line">        client.CopyObject(source_bucket_name, source_object_name,</div><div class="line">                          destination_bucket_name, destination_object_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!new_copy_meta) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error copying object &quot;</span> &lt;&lt; source_bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; source_bucket_name &lt;&lt; <span class="stringliteral">&quot; to bucket &quot;</span></div><div class="line">                &lt;&lt; destination_bucket_name &lt;&lt; <span class="stringliteral">&quot; with name &quot;</span></div><div class="line">                &lt;&lt; destination_object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; new_copy_meta.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Successfully copied &quot;</span> &lt;&lt; source_object_name &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">              &lt;&lt; source_bucket_name &lt;&lt; <span class="stringliteral">&quot; to bucket &quot;</span> &lt;&lt; new_copy_meta-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; with name &quot;</span> &lt;&lt; new_copy_meta-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;.\nThe full metadata after the copy is: &quot;</span> &lt;&lt; *new_copy_meta</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example: copy an encrypted object</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string source_bucket_name,</div><div class="line">     std::string source_object_name, std::string destination_bucket_name,</div><div class="line">     std::string destination_object_name, std::string key_base64) {</div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; new_copy_meta = client.CopyObject(</div><div class="line">        source_bucket_name, source_object_name, destination_bucket_name,</div><div class="line">        destination_object_name, gcs::EncryptionKey::FromBase64Key(key_base64));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!new_copy_meta) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error copying object &quot;</span> &lt;&lt; source_bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; source_bucket_name &lt;&lt; <span class="stringliteral">&quot; to bucket &quot;</span></div><div class="line">                &lt;&lt; destination_bucket_name &lt;&lt; <span class="stringliteral">&quot; with name &quot;</span></div><div class="line">                &lt;&lt; destination_object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; new_copy_meta.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Successfully copied &quot;</span> &lt;&lt; source_object_name &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">              &lt;&lt; source_bucket_name &lt;&lt; <span class="stringliteral">&quot; to bucket &quot;</span> &lt;&lt; new_copy_meta-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; with name &quot;</span> &lt;&lt; new_copy_meta-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;.\nThe full metadata after the copy is: &quot;</span> &lt;&lt; *new_copy_meta</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/json_api/v1/objects/copy">https://cloud.google.com/storage/docs/json_api/v1/objects/copy</a> for a full description of the advantages of <code>Objects: rewrite</code> over <code>Objects: copy</code>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00760">760</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="acf7bdc2c43e29e05d95b529570c07924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf7bdc2c43e29e05d95b529570c07924">&#9670;&nbsp;</a></span>CreateBucket()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a>&gt; google::cloud::storage::v0::Client::CreateBucket </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a>&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new Google Cloud Storage bucket using the default project. </p>
<p>If the default project is not configured the server will reject the request, and this function returns the error status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the new bucket. </td></tr>
    <tr><td class="paramname">metadata</td><td>the metadata for the new Bucket. The <code>name</code> field is ignored in favor of <code>bucket_name</code>. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1PredefinedAcl.html" title="Set the ACL to predefined values when creating Buckets or Objects. ">PredefinedAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1PredefinedDefaultObjectAcl.html" title="Set the default object ACL to a predefined value in a Bucket. ">PredefinedDefaultObjectAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is always idempotent. It fails if the bucket already exists.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name) {</div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; bucket_metadata =</div><div class="line">        client.CreateBucket(bucket_name, gcs::BucketMetadata());</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!bucket_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Could not create bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Bucket &quot;</span> &lt;&lt; bucket_metadata-&gt;name() &lt;&lt; <span class="stringliteral">&quot; created.&quot;</span></div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull Metadata: &quot;</span> &lt;&lt; *bucket_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00291">291</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a0811e99961bb1ef4b54bfc4c6e556893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0811e99961bb1ef4b54bfc4c6e556893">&#9670;&nbsp;</a></span>CreateBucketAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a>&gt; google::cloud::storage::v0::Client::CreateBucketAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new entry in a bucket ACL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">entity</td><td>the name of the entity added to the ACL. </td></tr>
    <tr><td class="paramname">role</td><td>the role of the entity. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string entity,</div><div class="line">     std::string role) {</div><div class="line">    StatusOr&lt;gcs::BucketAccessControl&gt; bucket_acl =</div><div class="line">        client.CreateBucketAcl(bucket_name, entity, role);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!bucket_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure getting bucket ACL for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; bucket_acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Role &quot;</span> &lt;&lt; bucket_acl-&gt;role() &lt;&lt; <span class="stringliteral">&quot; granted to &quot;</span></div><div class="line">              &lt;&lt; bucket_acl-&gt;entity() &lt;&lt; <span class="stringliteral">&quot; on bucket &quot;</span> &lt;&lt; bucket_acl-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;Full attributes: &quot;</span> &lt;&lt; *bucket_acl &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameter. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#permissions">https://cloud.google.com/storage/docs/access-control/lists#permissions</a> for the format of the <code>role</code> parameter. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01400">1400</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="ad7976f4564b4e554cc9293d539cb2bb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7976f4564b4e554cc9293d539cb2bb2">&#9670;&nbsp;</a></span>CreateBucketForProject()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a>&gt; google::cloud::storage::v0::Client::CreateBucketForProject </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>project_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a>&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new Google Cloud Storage Bucket in a given project. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the new bucket. </td></tr>
    <tr><td class="paramname">project_id</td><td>the id of the project that will host the new bucket. </td></tr>
    <tr><td class="paramname">metadata</td><td>the metadata for the new Bucket. The <code>name</code> field is ignored in favor of <code>bucket_name</code>. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1PredefinedAcl.html" title="Set the ACL to predefined values when creating Buckets or Objects. ">PredefinedAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1PredefinedDefaultObjectAcl.html" title="Set the default object ACL to a predefined value in a Bucket. ">PredefinedDefaultObjectAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is always idempotent. It fails if the bucket already exists.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string project_id) {</div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; bucket_metadata =</div><div class="line">        client.CreateBucketForProject(bucket_name, project_id,</div><div class="line">                                      gcs::BucketMetadata());</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!bucket_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Could not create bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot; in project &quot;</span></div><div class="line">                &lt;&lt; project_id &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Bucket &quot;</span> &lt;&lt; bucket_metadata-&gt;name() &lt;&lt; <span class="stringliteral">&quot; created for project &quot;</span></div><div class="line">              &lt;&lt; project_id &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; bucket_metadata-&gt;project_number() &lt;&lt; <span class="stringliteral">&quot;]&quot;</span></div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull Metadata: &quot;</span> &lt;&lt; *bucket_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00318">318</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a89f22db73c8d5362079084d8ba4f8792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89f22db73c8d5362079084d8ba4f8792">&#9670;&nbsp;</a></span>CreateDefaultClient()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt; <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html">Client</a> &gt; google::cloud::storage::v0::Client::CreateDefaultClient </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html" title="The Google Cloud Storage (GCS) Client. ">Client</a> using <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ClientOptions.html#a204d6f78e533f249df9368ddc2f3f3ef" title="Creates a ClientOptions with Google Application Default Credentials. ">ClientOptions::CreateDefaultClientOptions()</a>. </p>

<p class="definition">Definition at line <a class="el" href="client_8cc_source.html#l00040">40</a> of file <a class="el" href="client_8cc_source.html">client.cc</a>.</p>

</div>
</div>
<a id="a09ed1d2b39a52815637e9cf9747a60a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09ed1d2b39a52815637e9cf9747a60a8">&#9670;&nbsp;</a></span>CreateDefaultObjectAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a>&gt; google::cloud::storage::v0::Client::CreateDefaultObjectAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new entry in the default object ACL for a bucket. </p>
<p>The default object ACL sets the ACL for any object created in the bucket, unless a different ACL is specified when the object is created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">entity</td><td>the name of the entity added to the ACL. </td></tr>
    <tr><td class="paramname">role</td><td>the role of the entity. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string entity,</div><div class="line">     std::string role) {</div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; default_object_acl =</div><div class="line">        client.CreateDefaultObjectAcl(bucket_name, entity, role);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!default_object_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure getting default object ACL for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; default_object_acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Role &quot;</span> &lt;&lt; default_object_acl-&gt;role()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; will be granted default to &quot;</span> &lt;&lt; default_object_acl-&gt;entity()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; on any new object created on bucket &quot;</span></div><div class="line">              &lt;&lt; default_object_acl-&gt;bucket() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;Full attributes: &quot;</span> &lt;&lt; *default_object_acl &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/create-manage-lists#defaultobjects">https://cloud.google.com/storage/docs/access-control/create-manage-lists#defaultobjects</a> </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameter. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#permissions">https://cloud.google.com/storage/docs/access-control/lists#permissions</a> for the format of the <code>role</code> parameter. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01941">1941</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a8a7ff9cf88d5e91d27c17e3e0def9e47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a7ff9cf88d5e91d27c17e3e0def9e47">&#9670;&nbsp;</a></span>CreateNotification()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1NotificationMetadata.html">NotificationMetadata</a>&gt; google::cloud::storage::v0::Client::CreateNotification </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>topic_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>payload_format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1NotificationMetadata.html">NotificationMetadata</a>&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new notification config for a Bucket. </p>
<p>Cloud Pub/Sub Notifications sends information about changes to objects in your buckets to Google Cloud Pub/Sub service. You can create multiple notifications per Bucket, with different topics and filtering options.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">topic_name</td><td>the Google Cloud Pub/Sub topic that will receive the notifications. This requires the full name of the topic, i.e.: <code>projects/&lt;PROJECT_ID&gt;/topics/&lt;TOPIC_ID&gt;</code>. </td></tr>
    <tr><td class="paramname"><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0_1_1payload__format.html" title="Contains functions to return well-known notification payload format names. ">payload_format</a></td><td>how will the data be formatted in the notifications, consider using the helpers in the <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0_1_1payload__format.html" title="Contains functions to return well-known notification payload format names. ">payload_format</a></code> namespace, or specify one of the valid formats defined in: <a href="https://cloud.google.com/storage/docs/json_api/v1/notifications">https://cloud.google.com/storage/docs/json_api/v1/notifications</a> </td></tr>
    <tr><td class="paramname">metadata</td><td>define any optional parameters for the notification, such as the list of event types, or any custom attributes. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string topic_name) {</div><div class="line">    StatusOr&lt;gcs::NotificationMetadata&gt; notification =</div><div class="line">        client.CreateNotification(bucket_name, topic_name,</div><div class="line">                                  <a class="code" href="namespacegoogle_1_1cloud_1_1storage_1_1v0_1_1payload__format.html#acdee1af9140fab11956dd246e1fc9d7f">gcs::payload_format::JsonApiV1</a>(),</div><div class="line">                                  gcs::NotificationMetadata());</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!notification) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error creating notification for &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; on topic &quot;</span> &lt;&lt; topic_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; notification.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Successfully created notification &quot;</span> &lt;&lt; notification-&gt;id()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; for bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">    <span class="keywordflow">if</span> (notification-&gt;object_name_prefix().empty()) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;This notification will be sent for all objects in the&quot;</span></div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; bucket\n&quot;</span>;</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;This notification will be set sent only for objects&quot;</span></div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; starting with the prefix &quot;</span></div><div class="line">                &lt;&lt; notification-&gt;object_name_prefix() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">    }</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Full details for the notification:\n&quot;</span></div><div class="line">              &lt;&lt; *notification &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/pubsub-notifications">https://cloud.google.com/storage/docs/pubsub-notifications</a> for general information on Cloud Pub/Sub Notifications for Google Cloud Storage.</dd>
<dd>
<a href="https://cloud.google.com/pubsub/">https://cloud.google.com/pubsub/</a> for general information on Google Cloud Pub/Sub service. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l02356">2356</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="af40ca462c1c93310c96f35ebf20e9fe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af40ca462c1c93310c96f35ebf20e9fe7">&#9670;&nbsp;</a></span>CreateObjectAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a>&gt; google::cloud::storage::v0::Client::CreateObjectAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new entry in the object ACL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that contains the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object. </td></tr>
    <tr><td class="paramname">entity</td><td>the name of the entity added to the ACL. </td></tr>
    <tr><td class="paramname">role</td><td>the role of the entity. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string entity, std::string role) {</div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; object_acl =</div><div class="line">        client.CreateObjectAcl(bucket_name, object_name, entity, role);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error creating object ACL entry for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; and bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Role &quot;</span> &lt;&lt; object_acl-&gt;role() &lt;&lt; <span class="stringliteral">&quot; granted to &quot;</span></div><div class="line">              &lt;&lt; object_acl-&gt;entity() &lt;&lt; <span class="stringliteral">&quot; on &quot;</span> &lt;&lt; object_acl-&gt;object()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull attributes: &quot;</span> &lt;&lt; *object_acl &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameter. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#permissions">https://cloud.google.com/storage/docs/access-control/lists#permissions</a> for the format of the <code>role</code> parameter. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01665">1665</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="ae15d05c54c2e9094719514a5856e1cc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae15d05c54c2e9094719514a5856e1cc6">&#9670;&nbsp;</a></span>CreateV2SignedUrl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;std::string&gt; google::cloud::storage::v0::Client::CreateV2SignedUrl </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>verb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a signed URL for the given parameters. </p>
<dl class="section note"><dt>Note</dt><dd>By default URLs created with this function expire after 7 days.</dd>
<dd>
The application must ensure that any URL created with this function is a valid request via the XML API. For example, the options for bucket requests may include a sub-resource (e.g. <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#ad02c2c1d5f23157b3146399eb8d5ac0c">WithBilling()</a></code>) but not all sub-resources are valid for objects. Likewise, only a single sub-resource may be retrieved in each request.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">verb</td><td>the operation allowed through this signed URL, <code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>HEAD</code>, etc. are valid values. </td></tr>
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object, note that the object may not exist for signed URLs that upload new objects. Use an empty string for requests that only affect a bucket. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional parameters for the signed URL, this include: <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1ExpirationTime.html" title="Define the expiration time for a signed URL. ">ExpirationTime</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1MD5HashValue.html" title="Provide a pre-computed MD5 hash value to an upload or download request. ">MD5HashValue</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1ContentType.html" title="Set the MIME content type of an object. ">ContentType</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1AddExtensionHeaderOption.html" title="Add a extension header to a signed URL. ">AddExtensionHeaderOption</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1AddQueryParameterOption.html" title="Add a extension header to a signed URL. ">AddQueryParameterOption</a></code>. The <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#aca1486b27694404d1667d43a68e030b0">AddExtensionHeader()</a></code> function provides a simpler way to create extension headers. Note that you can provides multiple values of this option. Likewise, the following helper functions can create properly formatted query parameters: <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a85eb5a788a9b5aa8614adb2f1bfb1b4f">WithAcl()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#ad02c2c1d5f23157b3146399eb8d5ac0c">WithBilling()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a71c5d58ea160a85ce225198b5bc87b55">WithCompose()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a705b027e0ac401fbcced787d470a9960">WithCors()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#abd6845b4a0bf631911a5844eda6c4d16">WithEncryption()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#acedbd56224412c2bb3c6ad714f099bb5">WithEncryptionConfig()</a></code>,<code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#abfec87e91c994bb6e515b34dbb0ee2b5">WithGeneration()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#aaba7aa9a3b47be6e2f3b40a90e45bf8f">WithGenerationMarker()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a62b37022aaba378b93a31be8be72866e">WithLifecycle()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#ab1f2b50aa26fd9e9e7b7fcafdb331f06">WithLocation()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#af52b507c79d335a2dbc946863fe4f260">WithLogging()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a94ab61afd54c71917bc1240e9ae2bd8b">WithMarker()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a314dc6e6806887b1257a971d709d2cfa">WithResponseContentDisposition()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a33ce20d9609b7bc00655a078f99b30bd">WithResponseContentType()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a2a48ea4d7ce732a1e3b831e9a1a09c50">WithStorageClass()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#ac442bbb8786c05cee1cc112122122f85">WithTagging()</a></code>, <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#ad4c682c925c996a35cc6ab0dff82a533">WithUserProject()</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the signed URL.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name) {</div><div class="line">    StatusOr&lt;std::string&gt; signed_url = client.CreateV2SignedUrl(</div><div class="line">        <span class="stringliteral">&quot;GET&quot;</span>, std::move(bucket_name), std::move(object_name),</div><div class="line">        gcs::ExpirationTime(std::chrono::system_clock::now() +</div><div class="line">                            std::chrono::minutes(15)));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!signed_url) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error creating signed URL, status=&quot;</span> &lt;&lt; signed_url.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The signed url is: &quot;</span> &lt;&lt; *signed_url &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span></div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;You can use this URL with any user agent, for example:\n&quot;</span></div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;curl &#39;&quot;</span> &lt;&lt; *signed_url &lt;&lt; <span class="stringliteral">&quot;&#39;&quot;</span> &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/signed-urls">https://cloud.google.com/storage/docs/access-control/signed-urls</a> for a general description of signed URLs and how they can be used.</dd>
<dd>
<a href="https://cloud.google.com/storage/docs/xml-api/overview">https://cloud.google.com/storage/docs/xml-api/overview</a> for a detailed description of the XML API. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l02272">2272</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a19f9d82c55e74908fb6f47837c010b1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19f9d82c55e74908fb6f47837c010b1e">&#9670;&nbsp;</a></span>DeleteBucket()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status google::cloud::storage::v0::Client::DeleteBucket </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes a Google Cloud Storage Bucket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the bucket to be deleted. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  [](gcs::Client client, std::string bucket_name) {</div><div class="line">    google::cloud::Status status = client.DeleteBucket(bucket_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!status.ok()) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error while deleting bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot; was deleted successfully.&quot;</span></div><div class="line">              &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00367">367</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a9a3278f21ca3b992f2dba080699859b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a3278f21ca3b992f2dba080699859b6">&#9670;&nbsp;</a></span>DeleteBucketAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status google::cloud::storage::v0::Client::DeleteBucketAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes an entry from a bucket ACL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">entity</td><td>the name of the entity added to the ACL. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string entity) {</div><div class="line">    google::cloud::Status status = client.DeleteBucketAcl(bucket_name, entity);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!status.ok()) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure deleting ACL for entity &quot;</span> &lt;&lt; entity &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Deleted ACL entry for &quot;</span> &lt;&lt; entity &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">              &lt;&lt; bucket_name &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameter. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01428">1428</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="aaf40e6698d2f6074783fd95ee219d4bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf40e6698d2f6074783fd95ee219d4bb">&#9670;&nbsp;</a></span>DeleteDefaultObjectAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status google::cloud::storage::v0::Client::DeleteDefaultObjectAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes an entry from the default object ACL in a bucket. </p>
<p>The default object ACL sets the ACL for any object created in the bucket, unless a different ACL is specified when the object is created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">entity</td><td>the name of the entity added to the ACL. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string entity) {</div><div class="line">    google::cloud::Status status =</div><div class="line">        client.DeleteDefaultObjectAcl(bucket_name, entity);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!status.ok()) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure deleting default object ACL for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; status</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Deleted ACL entry for &quot;</span> &lt;&lt; entity &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">              &lt;&lt; bucket_name &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/create-manage-lists#defaultobjects">https://cloud.google.com/storage/docs/access-control/create-manage-lists#defaultobjects</a> </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameter. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01973">1973</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a004baf7af7cd1dc2aac5298815d9adf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a004baf7af7cd1dc2aac5298815d9adf7">&#9670;&nbsp;</a></span>DeleteNotification()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status google::cloud::storage::v0::Client::DeleteNotification </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>notification_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete an existing notification config in a given Bucket. </p>
<p>Cloud Pub/Sub Notifications sends information about changes to objects in your buckets to Google Cloud Pub/Sub service. You can create multiple notifications per Bucket, with different topics and filtering options. This function deletes one of the notification configs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">notification_id</td><td>the id of the notification config. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is always idempotent because it only acts on a specific <code>notification_id</code>, the state after calling this function multiple times is to delete that notification. New notifications get different ids.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string notification_id) {</div><div class="line">    google::cloud::Status status =</div><div class="line">        client.DeleteNotification(bucket_name, notification_id);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!status.ok()) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error delete notification id &quot;</span> &lt;&lt; notification_id</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; on bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; status</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Successfully deleted notification &quot;</span> &lt;&lt; notification_id</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; on bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/pubsub-notifications">https://cloud.google.com/storage/docs/pubsub-notifications</a> for general information on Cloud Pub/Sub Notifications for Google Cloud Storage.</dd>
<dd>
<a href="https://cloud.google.com/pubsub/">https://cloud.google.com/pubsub/</a> for general information on Google Cloud Pub/Sub service. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l02428">2428</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a7769fa20bffa6640cffff572a3e28fd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7769fa20bffa6640cffff572a3e28fd1">&#9670;&nbsp;</a></span>DeleteObject()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status google::cloud::storage::v0::Client::DeleteObject </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that contains the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object to be deleted. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the object generation matches. ">IfGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if:<ul>
<li>restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code></li>
<li>or, if it applies to only one object version via <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>.</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name) {</div><div class="line">    google::cloud::Status status =</div><div class="line">        client.DeleteObject(bucket_name, object_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!status.ok()) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error deleting object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Deleted &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01014">1014</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="ab93ee8017989e9c40ef58491558f353f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab93ee8017989e9c40ef58491558f353f">&#9670;&nbsp;</a></span>DeleteObjectAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status google::cloud::storage::v0::Client::DeleteObjectAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes one access control entry in one object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that contains the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object to be deleted. </td></tr>
    <tr><td class="paramname">entity</td><td>the name of the entity (user, team, group) to be removed from the Object's ACL. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string entity) {</div><div class="line">    google::cloud::Status status =</div><div class="line">        client.DeleteObjectAcl(bucket_name, object_name, entity);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!status.ok()) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error deleting object ACL entry for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; and bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Deleted ACL entry for &quot;</span> &lt;&lt; entity &lt;&lt; <span class="stringliteral">&quot; in object &quot;</span></div><div class="line">              &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameters. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01697">1697</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a019bbf3abb0ee08de7fdb82444bb9833"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a019bbf3abb0ee08de7fdb82444bb9833">&#9670;&nbsp;</a></span>DownloadToFile()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Status google::cloud::storage::v0::Client::DownloadToFile </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Downloads a Cloud Storage object to a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that contains the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object to be downloaded. </td></tr>
    <tr><td class="paramname">file_name</td><td>the name of the destination file that will have the object media. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the object generation matches. ">IfGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1ReadRange.html" title="Request only a portion of the GCS object in a ReadObject operation. ">ReadRange</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string file_name) {</div><div class="line">    google::cloud::Status status =</div><div class="line">        client.DownloadToFile(bucket_name, object_name, file_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!status.ok()) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error downloading object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot; to file &quot;</span> &lt;&lt; file_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; status &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Downloaded &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; file_name</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00987">987</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="ab0c02aad9ca9b14d3fb0a7b5e1a1351f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0c02aad9ca9b14d3fb0a7b5e1a1351f">&#9670;&nbsp;</a></span>GetBucketAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a>&gt; google::cloud::storage::v0::Client::GetBucketAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the value of an existing bucket ACL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket to query. </td></tr>
    <tr><td class="paramname">entity</td><td>the name of the entity to query. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string entity) {</div><div class="line">    StatusOr&lt;gcs::BucketAccessControl&gt; acl =</div><div class="line">        client.GetBucketAcl(bucket_name, entity);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure getting ACL for entity &quot;</span> &lt;&lt; entity &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;ACL entry for &quot;</span> &lt;&lt; acl-&gt;entity() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">              &lt;&lt; acl-&gt;bucket() &lt;&lt; <span class="stringliteral">&quot; is &quot;</span> &lt;&lt; *acl &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameter. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01453">1453</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a8d0a35e550d682a750dd3a4f24fd054f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d0a35e550d682a750dd3a4f24fd054f">&#9670;&nbsp;</a></span>GetBucketIamPolicy()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;IamPolicy&gt; google::cloud::storage::v0::Client::GetBucketIamPolicy </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches the <a class="elRef" doxygen="/v/build-output/ubuntu-18.04-gcc-Release/google/cloud/cloud.tag:../common/" href="../common/structgoogle_1_1cloud_1_1v0_1_1IamPolicy.html">IAM policy</a> for a Bucket. </p>
<p>Google Cloud Identity &amp; Access Management (IAM) lets administrators authorize who can take action on specific resources, including Google Cloud Storage Buckets. This operation allows you to query the IAM policies for a Bucket. IAM policies are a superset of the Bucket ACL, changes to the Bucket ACL are reflected in the IAM policy, and vice-versa. The documentation describes <a href="https://cloud.google.com/storage/docs/access-control/iam#acls">the mapping</a> between legacy Bucket ACLs and IAM policies.</p>
<p>Consult <a href="https://cloud.google.com/storage/docs/access-control/iam">the documentation</a> for a more detailed description of IAM policies and their use in Google Cloud Storage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>query metadata information about this bucket. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name) {</div><div class="line">    StatusOr&lt;google::cloud::IamPolicy&gt; policy =</div><div class="line">        client.GetBucketIamPolicy(bucket_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!policy) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting IAM policy for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; policy.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The IAM policy for bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot; is &quot;</span></div><div class="line">              &lt;&lt; *policy &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="elRef" doxygen="/v/build-output/ubuntu-18.04-gcc-Release/google/cloud/cloud.tag:../common/" href="../common/structgoogle_1_1cloud_1_1v0_1_1IamPolicy.html">google::cloud::v0::IamPolicy</a> for details about the <code>IamPolicy</code> class. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00513">513</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="aad461a2097a6159169223afb700a4112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad461a2097a6159169223afb700a4112">&#9670;&nbsp;</a></span>GetBucketMetadata()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a>&gt; google::cloud::storage::v0::Client::GetBucketMetadata </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches the bucket metadata. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>query metadata information about this bucket. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name) {</div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; bucket_metadata =</div><div class="line">        client.GetBucketMetadata(bucket_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!bucket_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error while getting metadata for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; bucket_metadata.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The metadata for bucket &quot;</span> &lt;&lt; bucket_metadata-&gt;name() &lt;&lt; <span class="stringliteral">&quot; is &quot;</span></div><div class="line">              &lt;&lt; *bucket_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00344">344</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="afc9f8e449de697b13f83ee1d4e08d808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc9f8e449de697b13f83ee1d4e08d808">&#9670;&nbsp;</a></span>GetDefaultObjectAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a>&gt; google::cloud::storage::v0::Client::GetDefaultObjectAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the value of a default object ACL in a bucket. </p>
<p>The default object ACL sets the ACL for any object created in the bucket, unless a different ACL is specified when the object is created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">entity</td><td>the name of the entity. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string entity) {</div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; acl =</div><div class="line">        client.GetDefaultObjectAcl(bucket_name, entity);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure getting default object ACL for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; acl.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Default Object ACL entry for &quot;</span> &lt;&lt; acl-&gt;entity()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; acl-&gt;bucket() &lt;&lt; <span class="stringliteral">&quot; is &quot;</span> &lt;&lt; *acl &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/create-manage-lists#defaultobjects">https://cloud.google.com/storage/docs/access-control/create-manage-lists#defaultobjects</a> </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameter. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l02004">2004</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a6140dee0cd3f1fe538612bcdb7304f81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6140dee0cd3f1fe538612bcdb7304f81">&#9670;&nbsp;</a></span>GetNotification()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1NotificationMetadata.html">NotificationMetadata</a>&gt; google::cloud::storage::v0::Client::GetNotification </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>notification_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the details about a notification config in a given Bucket. </p>
<p>Cloud Pub/Sub Notifications sends information about changes to objects in your buckets to Google Cloud Pub/Sub service. You can create multiple notifications per Bucket, with different topics and filtering options. This function fetches the detailed information for a given notification config.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">notification_id</td><td>the id of the notification config. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string notification_id) {</div><div class="line">    StatusOr&lt;gcs::NotificationMetadata&gt; notification =</div><div class="line">        client.GetNotification(bucket_name, notification_id);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!notification) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting notification metadata for notification id &quot;</span></div><div class="line">                &lt;&lt; notification_id &lt;&lt; <span class="stringliteral">&quot; on bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; notification.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Notification &quot;</span> &lt;&lt; notification-&gt;id() &lt;&lt; <span class="stringliteral">&quot; for bucket &quot;</span></div><div class="line">              &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">    <span class="keywordflow">if</span> (notification-&gt;object_name_prefix().empty()) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;This notification is sent for all objects in the bucket\n&quot;</span>;</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;This notification is sent only for objects starting with&quot;</span></div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; the prefix &quot;</span> &lt;&lt; notification-&gt;object_name_prefix() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">    }</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Full details for the notification:\n&quot;</span></div><div class="line">              &lt;&lt; *notification &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/pubsub-notifications">https://cloud.google.com/storage/docs/pubsub-notifications</a> for general information on Cloud Pub/Sub Notifications for Google Cloud Storage.</dd>
<dd>
<a href="https://cloud.google.com/pubsub/">https://cloud.google.com/pubsub/</a> for general information on Google Cloud Pub/Sub service. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l02392">2392</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a8a8b32a2b001851d8bd7956a826f05f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a8b32a2b001851d8bd7956a826f05f9">&#9670;&nbsp;</a></span>GetObjectAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a>&gt; google::cloud::storage::v0::Client::GetObjectAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the value of an existing object ACL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that contains the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object. </td></tr>
    <tr><td class="paramname">entity</td><td>the name of the entity added to the ACL. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string entity) {</div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; acl =</div><div class="line">        client.GetObjectAcl(bucket_name, object_name, entity);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting object ACL entry for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; and bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;ACL entry for &quot;</span> &lt;&lt; acl-&gt;entity() &lt;&lt; <span class="stringliteral">&quot; in object &quot;</span></div><div class="line">              &lt;&lt; acl-&gt;object() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; acl-&gt;bucket() &lt;&lt; <span class="stringliteral">&quot; is &quot;</span></div><div class="line">              &lt;&lt; *acl &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameters. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01724">1724</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="ae7a1d66157dbb09777466b0e35d8dc33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7a1d66157dbb09777466b0e35d8dc33">&#9670;&nbsp;</a></span>GetObjectMetadata()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a>&gt; google::cloud::storage::v0::Client::GetObjectMetadata </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches the object metadata. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the bucket containing the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the object name. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the object generation matches. ">IfGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name) {</div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata =</div><div class="line">        client.GetObjectMetadata(bucket_name, object_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting object metadata for object &quot;</span> &lt;&lt; object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_metadata.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The metadata for object &quot;</span> &lt;&lt; object_metadata-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; object_metadata-&gt;bucket() &lt;&lt; <span class="stringliteral">&quot; is &quot;</span></div><div class="line">              &lt;&lt; *object_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00789">789</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a8efe362cc08396f24eb52f7e1fb79419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8efe362cc08396f24eb52f7e1fb79419">&#9670;&nbsp;</a></span>GetServiceAccount()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ServiceAccount.html">ServiceAccount</a>&gt; google::cloud::storage::v0::Client::GetServiceAccount </td>
          <td>(</td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the GCS service account for the default project. </p>
<p>A service account is a special Google account that belongs to your application, virtual machine, or to a Google service when acting on your behalf. This API allows you to discover the GCS service account for the default project associated with this object.</p>
<p>The default project is required to be configured in the <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ClientOptions.html" title="Describes the configuration for a storage::Client object. ">ClientOptions</a></code> used to construct this object. If the application does not set the project id in the <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ClientOptions.html" title="Describes the configuration for a storage::Client object. ">ClientOptions</a></code>, the value of the <code>GOOGLE_CLOUD_PROJECT</code> is used. If neither the environment variable is set, nor a value is set explicitly by the application, the server will reject the request and this function will return the error status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client) {</div><div class="line">    StatusOr&lt;gcs::ServiceAccount&gt; service_account_details =</div><div class="line">        client.GetServiceAccount();</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!service_account_details) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting service account details, status=&quot;</span></div><div class="line">                &lt;&lt; service_account_details.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The service account details are &quot;</span> &lt;&lt; *service_account_details</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/iam/docs/service-accounts">https://cloud.google.com/iam/docs/service-accounts</a> for general information on Google Cloud Platform service accounts. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l02221">2221</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="adbe09ec4ecc8f697615dd720831cd11f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbe09ec4ecc8f697615dd720831cd11f">&#9670;&nbsp;</a></span>GetServiceAccountForProject()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ServiceAccount.html">ServiceAccount</a>&gt; google::cloud::storage::v0::Client::GetServiceAccountForProject </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>project_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the GCS service account for a given project. </p>
<p>A service account is a special Google account that belongs to your application, virtual machine, or to a Google service when acting on your behalf. This API allows you to discover the GCS service account for the <code>project_id</code> project.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">project_id</td><td>the project to query. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="comment">// [START storage_get_service_account_for_project]</span></div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string project_id) {</div><div class="line">    StatusOr&lt;gcs::ServiceAccount&gt; service_account_details =</div><div class="line">        client.GetServiceAccountForProject(project_id);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!service_account_details) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting service account details, status=&quot;</span></div><div class="line">                &lt;&lt; service_account_details.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The service account details for project &quot;</span> &lt;&lt; project_id</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; are &quot;</span> &lt;&lt; *service_account_details &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line">  <span class="comment">// [END storage_get_service_account_for_project]</span></div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/iam/docs/service-accounts">https://cloud.google.com/iam/docs/service-accounts</a> for general information on Google Cloud Platform service accounts. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l02186">2186</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a55967cfd8db04eb0fa408720f3fbd018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55967cfd8db04eb0fa408720f3fbd018">&#9670;&nbsp;</a></span>InsertObject()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a>&gt; google::cloud::storage::v0::Client::InsertObject </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>contents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an object given its name and contents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that will contain the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object to be created. </td></tr>
    <tr><td class="paramname">contents</td><td>the contents (media) for the new object. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1ContentEncoding.html" title="Sets the contentEncoding option for object uploads. ">ContentEncoding</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1ContentType.html" title="Set the MIME content type of an object. ">ContentType</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Crc32cChecksumValue.html" title="Provide a pre-computed MD5 hash value to an upload or download request. ">Crc32cChecksumValue</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DisableCrc32cChecksum.html" title="Disable MD5 Hashing computations. ">DisableCrc32cChecksum</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DisableMD5Hash.html" title="Disable MD5 Hashing computations. ">DisableMD5Hash</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1EncryptionKey.html" title="An optional parameter to set the Customer-Supplied Encryption key. ">EncryptionKey</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the object generation matches. ">IfGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1KmsKeyName.html" title="Configure the Customer-Managed Encryption Key (CMEK) for an upload. ">KmsKeyName</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1MD5HashValue.html" title="Provide a pre-computed MD5 hash value to an upload or download request. ">MD5HashValue</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1PredefinedAcl.html" title="Set the ACL to predefined values when creating Buckets or Objects. ">PredefinedAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1WithObjectMetadata.html" title="A request option to define the object metadata attributes. ">WithObjectMetadata</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string contents) {</div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata =</div><div class="line">        client.InsertObject(bucket_name, object_name, std::move(contents));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error inserting object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_metadata.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The object &quot;</span> &lt;&lt; object_metadata-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; was created in bucket &quot;</span> &lt;&lt; object_metadata-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *object_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string content_type, std::string contents) {</div><div class="line">    <span class="comment">// Setting the object metadata (via the `gcs::WithObjectMadata` option)</span></div><div class="line">    <span class="comment">// requires a multipart upload, the library prefers simple uploads unless</span></div><div class="line">    <span class="comment">// required as in this case.</span></div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata = client.InsertObject(</div><div class="line">        bucket_name, object_name, std::move(contents),</div><div class="line">        gcs::WithObjectMetadata(</div><div class="line">            gcs::ObjectMetadata().set_content_type(content_type)));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error inserting object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_metadata.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The object &quot;</span> &lt;&lt; object_metadata-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; was created in bucket &quot;</span> &lt;&lt; object_metadata-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nThe contentType was set to &quot;</span></div><div class="line">              &lt;&lt; object_metadata-&gt;content_type()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *object_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00709">709</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a9c6b0882aefaba2c7d7b04e93e507c7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c6b0882aefaba2c7d7b04e93e507c7a">&#9670;&nbsp;</a></span>ListBucketAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;std::vector&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a>&gt; &gt; google::cloud::storage::v0::Client::ListBucketAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the list of <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html" title="Wraps the bucketAccessControl resource in Google Cloud Storage. ">BucketAccessControl</a></code> items for a bucket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name) {</div><div class="line">    StatusOr&lt;std::vector&lt;gcs::BucketAccessControl&gt;&gt; items =</div><div class="line">        client.ListBucketAcl(bucket_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!items) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting ACL entries for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; items.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;ACLs for bucket=&quot;</span> &lt;&lt; bucket_name &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">for</span> (gcs::BucketAccessControl <span class="keyword">const</span>&amp; acl : *items) {</div><div class="line">      std::cout &lt;&lt; acl.role() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; acl.entity() &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01367">1367</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="ad2b12e1262905f3c66e910bb944b237c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2b12e1262905f3c66e910bb944b237c">&#9670;&nbsp;</a></span>ListBuckets()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ListBucketsReader.html">ListBucketsReader</a> google::cloud::storage::v0::Client::ListBuckets </td>
          <td>(</td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches the list of buckets for the default project. </p>
<p>The default project is required to be configured in the <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ClientOptions.html" title="Describes the configuration for a storage::Client object. ">ClientOptions</a></code> used to construct this object. If the application does not set the project id in the <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ClientOptions.html" title="Describes the configuration for a storage::Client object. ">ClientOptions</a></code>, the value of the <code>GOOGLE_CLOUD_PROJECT</code> is used. If neither the environment variable is set, nor a value is set explicitly by the application, the returned <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ListBucketsReader.html" title="Represents the result of listing a set of Buckets. ">ListBucketsReader</a></code> will return an error status when used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1MaxResults.html" title="Limit the number of results per page when listing Buckets and Objects. ">MaxResults</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Prefix.html" title="Restrict list operations to entries starting with this value. ">Prefix</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client) {</div><div class="line">    <span class="keywordtype">int</span> count = 0;</div><div class="line">    gcs::ListBucketsReader bucket_list = client.ListBuckets();</div><div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; bucket_metadata : bucket_list) {</div><div class="line">      <span class="keywordflow">if</span> (!bucket_metadata) {</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Error reading bucket list for default project&quot;</span></div><div class="line">                  &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; bucket_metadata.status() &lt;&lt; std::endl;</div><div class="line">        <span class="keywordflow">return</span>;</div><div class="line">      }</div><div class="line"></div><div class="line">      std::cout &lt;&lt; bucket_metadata-&gt;name() &lt;&lt; std::endl;</div><div class="line">      ++count;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (count == 0) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;No buckets in default project&quot;</span> &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00267">267</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a2e084a0359a2ebac0000fe41b7f4ea56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e084a0359a2ebac0000fe41b7f4ea56">&#9670;&nbsp;</a></span>ListBucketsForProject()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ListBucketsReader.html">ListBucketsReader</a> google::cloud::storage::v0::Client::ListBucketsForProject </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>project_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches the list of buckets for a given project. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">project_id</td><td>the project to query. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1MaxResults.html" title="Limit the number of results per page when listing Buckets and Objects. ">MaxResults</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Prefix.html" title="Restrict list operations to entries starting with this value. ">Prefix</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  [](gcs::Client client, std::string project_id) {</div><div class="line">    <span class="keywordtype">int</span> count = 0;</div><div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; bucket_metadata : client.ListBucketsForProject(project_id)) {</div><div class="line">      <span class="keywordflow">if</span> (!bucket_metadata) {</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Error reading bucket list for project &quot;</span> &lt;&lt; project_id</div><div class="line">                  &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; bucket_metadata.status() &lt;&lt; std::endl;</div><div class="line">        <span class="keywordflow">return</span>;</div><div class="line">      }</div><div class="line"></div><div class="line">      std::cout &lt;&lt; bucket_metadata-&gt;name() &lt;&lt; std::endl;</div><div class="line">      ++count;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (count == 0) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;No buckets in project &quot;</span> &lt;&lt; project_id &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00240">240</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a3e2d8e0446b97e2d9583e9ad4a309670"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e2d8e0446b97e2d9583e9ad4a309670">&#9670;&nbsp;</a></span>ListDefaultObjectAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;std::vector&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a>&gt; &gt; google::cloud::storage::v0::Client::ListDefaultObjectAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the default object ACL for a bucket as a vector of <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html" title="Wraps the objectAccessControl resource in Google Cloud Storage. ">ObjectAccessControl</a></code> items. </p>
<p>The default object ACL sets the ACL for any object created in the bucket, unless a different ACL is specified when the object is created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name) {</div><div class="line">    StatusOr&lt;std::vector&lt;gcs::ObjectAccessControl&gt;&gt; items =</div><div class="line">        client.ListDefaultObjectAcl(bucket_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!items) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting default object ACL entries for bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; items.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;ACLs for bucket=&quot;</span> &lt;&lt; bucket_name &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">for</span> (gcs::ObjectAccessControl <span class="keyword">const</span>&amp; acl : *items) {</div><div class="line">      std::cout &lt;&lt; acl.role() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; acl.entity() &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/create-manage-lists#defaultobjects">https://cloud.google.com/storage/docs/access-control/create-manage-lists#defaultobjects</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01903">1903</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a7e224615f5a68af7e8acbf183fd98ddb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e224615f5a68af7e8acbf183fd98ddb">&#9670;&nbsp;</a></span>ListNotifications()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;std::vector&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1NotificationMetadata.html">NotificationMetadata</a>&gt; &gt; google::cloud::storage::v0::Client::ListNotifications </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the list of Notifications for a Bucket. </p>
<p>Cloud Pub/Sub Notifications sends information about changes to objects in your buckets to Google Cloud Pub/Sub service.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name) {</div><div class="line">    StatusOr&lt;std::vector&lt;gcs::NotificationMetadata&gt;&gt; items =</div><div class="line">        client.ListNotifications(bucket_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!items) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error reading notification list for &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; items.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Notifications for bucket=&quot;</span> &lt;&lt; bucket_name &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">for</span> (gcs::NotificationMetadata <span class="keyword">const</span>&amp; notification : *items) {</div><div class="line">      std::cout &lt;&lt; notification &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l02311">2311</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a6b8b97aedf09200a73d21e1b8b816cf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b8b97aedf09200a73d21e1b8b816cf8">&#9670;&nbsp;</a></span>ListObjectAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;std::vector&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a>&gt; &gt; google::cloud::storage::v0::Client::ListObjectAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the list of <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html" title="Wraps the objectAccessControl resource in Google Cloud Storage. ">ObjectAccessControl</a> items for an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that contains the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object to be deleted. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name) {</div><div class="line">    StatusOr&lt;std::vector&lt;gcs::ObjectAccessControl&gt;&gt; items =</div><div class="line">        client.ListObjectAcl(bucket_name, object_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!items) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error reading ACL for object &quot;</span> &lt;&lt; object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; items.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;ACLs for object=&quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">              &lt;&lt; bucket_name &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">for</span> (gcs::ObjectAccessControl <span class="keyword">const</span>&amp; acl : *items) {</div><div class="line">      std::cout &lt;&lt; acl.role() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; acl.entity() &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01630">1630</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a6f18342a0d51ecb3a95aa5e121eee0f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f18342a0d51ecb3a95aa5e121eee0f5">&#9670;&nbsp;</a></span>ListObjects()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ListObjectsReader.html">ListObjectsReader</a> google::cloud::storage::v0::Client::ListObjects </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lists the objects in a bucket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket to list. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Prefix.html" title="Restrict list operations to entries starting with this value. ">Prefix</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Versions.html" title="Control if all versions of an object should be included when listing objects. ">Versions</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  [](gcs::Client client, std::string bucket_name) {</div><div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; object_metadata : client.ListObjects(bucket_name)) {</div><div class="line">      <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Error reading object list for &quot;</span> &lt;&lt; bucket_name</div><div class="line">                  &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_metadata.status();</div><div class="line">        <span class="keywordflow">return</span>;</div><div class="line">      }</div><div class="line"></div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;bucket_name=&quot;</span> &lt;&lt; object_metadata-&gt;bucket()</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, object_name=&quot;</span> &lt;&lt; object_metadata-&gt;name() &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00813">813</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a2651b18bf08dddf6a21ca66ed8067ab9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2651b18bf08dddf6a21ca66ed8067ab9">&#9670;&nbsp;</a></span>LockBucketRetentionPolicy()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a>&gt; google::cloud::storage::v0::Client::LockBucketRetentionPolicy </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::uint64_t&#160;</td>
          <td class="paramname"><em>metageneration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Locks the retention policy for a bucket. </p>
<dl class="section warning"><dt>Warning</dt><dd>Locking a retention policy is an irreversible action. Once locked, you must delete the entire bucket in order to "remove" the bucket's retention policy. However, before you can delete the bucket, you must be able to delete all the objects in the bucket, which itself is only possible if all the objects have reached the retention period set by the retention policy.</dd></dl>
<p>The <a href="https://cloud.google.com/storage/docs/bucket-lock">Bucket Lock feature</a> allows you to configure a data retention policy for a Cloud Storage bucket that governs how long objects in the bucket must be retained. The feature also allows you to lock the data retention policy, permanently preventing the policy from being reduced or removed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">metageneration</td><td>the expected value of the metageneration on the bucket. The request will fail if the metageneration does not match the current value. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is always idempotent because the <code>metageneration</code> parameter is always required, and it acts as a pre-condition on the operation.</dd></dl>
<dl class="section user"><dt>Example: lock the retention policy</dt><dd><div class="fragment"><div class="line">  <span class="comment">// [START storage_lock_retention_policy]</span></div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name) {</div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; original =</div><div class="line">        client.GetBucketMetadata(bucket_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!original) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error fetching the metadata for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; original.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; updated_metadata =</div><div class="line">        client.LockBucketRetentionPolicy(bucket_name,</div><div class="line">                                         original-&gt;metageneration());</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!updated_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error locking bucket retention policy for bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; updated_metadata.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!updated_metadata-&gt;has_retention_policy()) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;The bucket &quot;</span> &lt;&lt; updated_metadata-&gt;name()</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; does not have a retention policy, even though the&quot;</span></div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; operation to set it was successful.\n&quot;</span></div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;This is unexpected, and may indicate that another&quot;</span></div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; application has modified the bucket concurrently.&quot;</span></div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Retention policy successfully locked for bucket &quot;</span></div><div class="line">              &lt;&lt; updated_metadata-&gt;name() &lt;&lt; <span class="stringliteral">&quot;\nNew retention policy is: &quot;</span></div><div class="line">              &lt;&lt; updated_metadata-&gt;retention_policy()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *updated_metadata &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line">  <span class="comment">// [END storage_lock_retention_policy]</span></div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example: get the current retention policy</dt><dd><div class="fragment"><div class="line">  <span class="comment">// [START storage_get_retention_policy]</span></div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name) {</div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; bucket_metadata =</div><div class="line">        client.GetBucketMetadata(bucket_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!bucket_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error fetching the metadata for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; bucket_metadata.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!bucket_metadata-&gt;has_retention_policy()) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;The bucket &quot;</span> &lt;&lt; bucket_metadata-&gt;name()</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; does not have a retention policy set.&quot;</span> &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The bucket &quot;</span> &lt;&lt; bucket_metadata-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; retention policy is set to &quot;</span></div><div class="line">              &lt;&lt; bucket_metadata-&gt;retention_policy() &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line">  <span class="comment">// [END storage_get_retention_policy]</span></div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example: set the current retention policy</dt><dd><div class="fragment"><div class="line">  <span class="comment">// [START storage_set_retention_policy]</span></div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::chrono::seconds period) {</div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; original =</div><div class="line">        client.GetBucketMetadata(bucket_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!original) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error fetching the metadata for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; original.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; patched_metadata = client.PatchBucket(</div><div class="line">        bucket_name,</div><div class="line">        gcs::BucketMetadataPatchBuilder().SetRetentionPolicy(period),</div><div class="line">        gcs::IfMetagenerationMatch(original-&gt;metageneration()));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!patched_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error setting the retention policy on bucket &quot;</span></div><div class="line">                &lt;&lt; original-&gt;name() &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; patched_metadata.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!patched_metadata-&gt;has_retention_policy()) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;The bucket &quot;</span> &lt;&lt; patched_metadata-&gt;name()</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; does not have a retention policy set.&quot;</span> &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The bucket &quot;</span> &lt;&lt; patched_metadata-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; retention policy is set to &quot;</span></div><div class="line">              &lt;&lt; patched_metadata-&gt;retention_policy() &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line">  <span class="comment">// [END storage_set_retention_policy]</span></div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example: remove the retention policy</dt><dd><div class="fragment"><div class="line">  <span class="comment">// [START storage_remove_retention_policy]</span></div><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name) {</div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; original =</div><div class="line">        client.GetBucketMetadata(bucket_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!original) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error fetching the metadata for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; original.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; patched_metadata = client.PatchBucket(</div><div class="line">        bucket_name, gcs::BucketMetadataPatchBuilder().ResetRetentionPolicy(),</div><div class="line">        gcs::IfMetagenerationMatch(original-&gt;metageneration()));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!patched_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error removing the retention policy on bucket &quot;</span></div><div class="line">                &lt;&lt; original-&gt;name() &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; patched_metadata.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!patched_metadata-&gt;has_retention_policy()) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;The bucket &quot;</span> &lt;&lt; patched_metadata-&gt;name()</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; does not have a retention policy set.&quot;</span> &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The bucket &quot;</span> &lt;&lt; patched_metadata-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; retention policy is set to &quot;</span></div><div class="line">              &lt;&lt; patched_metadata-&gt;retention_policy()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;. This is unexpected, maybe a concurrent change by another&quot;</span></div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; application?&quot;</span> &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line">  <span class="comment">// [END storage_remove_retention_policy]</span></div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/bucket-lock">https://cloud.google.com/storage/docs/bucket-lock</a> for a description of the Bucket Lock feature.</dd>
<dd>
<a href="https://cloud.google.com/storage/docs/using-bucket-lock">https://cloud.google.com/storage/docs/using-bucket-lock</a> for examples of how to use the Bucket Lock and retention policy features. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00661">661</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a5ea1ef9dd607ae14a36e38ed0369688a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ea1ef9dd607ae14a36e38ed0369688a">&#9670;&nbsp;</a></span>PatchBucket() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a>&gt; google::cloud::storage::v0::Client::PatchBucket </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a> const &amp;&#160;</td>
          <td class="paramname"><em>original</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a> const &amp;&#160;</td>
          <td class="paramname"><em>updated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the difference between two <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html" title="Represents a Google Cloud Storage Bucket Metadata object. ">BucketMetadata</a> objects and patches a bucket based on that difference. </p>
<p>A <code>Buckets: update</code> request changes <em>all</em> the writeable attributes of a bucket, in contrast, a <code>Buckets: patch</code> request only changes the subset of the attributes included in the request.</p>
<p>This function creates a patch request to change the writeable attributes in <code>original</code> to the values in <code>updated</code>. Non-writeable attributes are ignored, and attributes not present in <code>updated</code> are removed. Typically this function is used after the application obtained a value with <code>GetBucketMetadata</code> and has modified these parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the bucket to be updated. </td></tr>
    <tr><td class="paramname">original</td><td>the initial value of the bucket metadata. </td></tr>
    <tr><td class="paramname">updated</td><td>the updated value for the bucket metadata. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string storage_class) {</div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; original =</div><div class="line">        client.GetBucketMetadata(bucket_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!original) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error while getting metadata for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; original.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    gcs::BucketMetadata desired = *original;</div><div class="line">    desired.set_storage_class(storage_class);</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; patched =</div><div class="line">        client.PatchBucket(bucket_name, *original, desired);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!patched) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error patching the metadata for bucket &quot;</span> &lt;&lt; original-&gt;name()</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; patched.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Storage class for bucket &quot;</span> &lt;&lt; patched-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; has been patched to &quot;</span> &lt;&lt; patched-&gt;storage_class() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span></div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *patched &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00439">439</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="ae93ac15bc1f0a4b394995a01af0472eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae93ac15bc1f0a4b394995a01af0472eb">&#9670;&nbsp;</a></span>PatchBucket() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a>&gt; google::cloud::storage::v0::Client::PatchBucket </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadataPatchBuilder.html">BucketMetadataPatchBuilder</a> const &amp;&#160;</td>
          <td class="paramname"><em>builder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Patches the metadata in a Google Cloud Storage Bucket given a desired set changes. </p>
<p>A <code>Buckets: update</code> request changes <em>all</em> the writeable attributes of a bucket, in contrast, a <code>Buckets: patch</code> request only changes the subset of the attributes included in the request. This function creates a patch request based on the given <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadataPatchBuilder.html" title="Prepares a patch for the Bucket resource. ">BucketMetadataPatchBuilder</a></code> which represents the desired set of changes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the bucket to be updated. </td></tr>
    <tr><td class="paramname">builder</td><td>the set of updates to perform in the Bucket. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string storage_class) {</div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; patched = client.PatchBucket(</div><div class="line">        bucket_name,</div><div class="line">        gcs::BucketMetadataPatchBuilder().SetStorageClass(storage_class));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!patched) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error patching the metadata for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; patched.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Storage class for bucket &quot;</span> &lt;&lt; patched-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; has been patched to &quot;</span> &lt;&lt; patched-&gt;storage_class() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span></div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *patched &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00473">473</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="aa460f005a82081687fea325871246ac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa460f005a82081687fea325871246ac8">&#9670;&nbsp;</a></span>PatchBucketAcl() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a>&gt; google::cloud::storage::v0::Client::PatchBucketAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a> const &amp;&#160;</td>
          <td class="paramname"><em>original_acl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a> const &amp;&#160;</td>
          <td class="paramname"><em>new_acl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Patches the value of an existing bucket ACL. </p>
<p>Computes the delta between a previous value for an <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html" title="Wraps the bucketAccessControl resource in Google Cloud Storage. ">BucketAccessControl</a> and the new value for an <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html" title="Wraps the bucketAccessControl resource in Google Cloud Storage. ">BucketAccessControl</a> and apply that delta.</p>
<dl class="section note"><dt>Note</dt><dd>For changing <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html" title="Wraps the bucketAccessControl resource in Google Cloud Storage. ">BucketAccessControl</a>, the Patch and Update APIs basically offer the same functionality. The only field that can be modified by either API is <code>role</code>, and it may only be set to a new value (it cannot be removed). The API is offered for consistency with the other resource types where Patch and Update APIs have different semantics.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">entity</td><td>the identifier for the user, group, service account, or predefined set of actors holding the permission. </td></tr>
    <tr><td class="paramname">original_acl</td><td>the original ACL value. </td></tr>
    <tr><td class="paramname">new_acl</td><td>the new ACL value. Note that only changes on writeable fields will be accepted by the server. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, and the standard options available to all operations.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string entity,</div><div class="line">     std::string role) {</div><div class="line">    StatusOr&lt;gcs::BucketAccessControl&gt; original_acl =</div><div class="line">        client.GetBucketAcl(bucket_name, entity);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!original_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure getting ACL for entity &quot;</span> &lt;&lt; entity &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; original_acl.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> new_acl = *original_acl;</div><div class="line">    new_acl.set_role(role);</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::BucketAccessControl&gt; patched_acl =</div><div class="line">        client.PatchBucketAcl(bucket_name, entity, *original_acl, new_acl);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!patched_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure patching ACL for entity &quot;</span> &lt;&lt; entity &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; patched_acl.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;ACL entry for &quot;</span> &lt;&lt; patched_acl-&gt;entity() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">              &lt;&lt; patched_acl-&gt;bucket() &lt;&lt; <span class="stringliteral">&quot; is now &quot;</span> &lt;&lt; *patched_acl</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/json_api/v1/bucketAccessControls">https://cloud.google.com/storage/docs/json_api/v1/bucketAccessControls</a> for additional details on what fields are writeable. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameters. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01537">1537</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a5c064da62f5307b7b3197eec1d03e8a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c064da62f5307b7b3197eec1d03e8a6">&#9670;&nbsp;</a></span>PatchBucketAcl() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a>&gt; google::cloud::storage::v0::Client::PatchBucketAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControlPatchBuilder.html">BucketAccessControlPatchBuilder</a> const &amp;&#160;</td>
          <td class="paramname"><em>builder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Patches the value of an existing bucket ACL. </p>
<p>This API allows the application to patch an <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html" title="Wraps the bucketAccessControl resource in Google Cloud Storage. ">BucketAccessControl</a> without having to read the current value.</p>
<dl class="section note"><dt>Note</dt><dd>For changing <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html" title="Wraps the bucketAccessControl resource in Google Cloud Storage. ">BucketAccessControl</a>, the Patch and Update APIs basically offer the same functionality. The only field that can be modified by either API is <code>role</code>, and it may only be set to a new value (it cannot be removed). The API is offered for consistency with the other resource types where Patch and Update APIs have different semantics.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that contains the bucket. </td></tr>
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">entity</td><td>the identifier for the user, group, service account, or predefined set of actors holding the permission. </td></tr>
    <tr><td class="paramname">builder</td><td>a builder ready to create the patch. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMatchEtag.html" title="A pre-condition: apply this operation only if the HTTP Entity Tag matches. ">IfMatchEtag</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfNoneMatchEtag.html" title="A pre-condition: apply this operation only if the HTTP Entity Tag does not match. ...">IfNoneMatchEtag</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string entity,</div><div class="line">     std::string role) {</div><div class="line">    StatusOr&lt;gcs::BucketAccessControl&gt; patched_acl = client.PatchBucketAcl(</div><div class="line">        bucket_name, entity,</div><div class="line">        gcs::BucketAccessControlPatchBuilder().set_role(role));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!patched_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure patching ACL for entity &quot;</span> &lt;&lt; entity &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; patched_acl.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;ACL entry for &quot;</span> &lt;&lt; patched_acl-&gt;entity() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">              &lt;&lt; patched_acl-&gt;bucket() &lt;&lt; <span class="stringliteral">&quot; is now &quot;</span> &lt;&lt; *patched_acl</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/json_api/v1/bucketAccessControls">https://cloud.google.com/storage/docs/json_api/v1/bucketAccessControls</a> for additional details on what fields are writeable. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameters. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01582">1582</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="aef6e76fc301f2ee0d1ece22973e29fde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef6e76fc301f2ee0d1ece22973e29fde">&#9670;&nbsp;</a></span>PatchDefaultObjectAcl() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a>&gt; google::cloud::storage::v0::Client::PatchDefaultObjectAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> const &amp;&#160;</td>
          <td class="paramname"><em>original_acl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> const &amp;&#160;</td>
          <td class="paramname"><em>new_acl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Patches the value of an existing default object ACL. </p>
<p>Compute the delta between a previous and new values for a default object access control, and apply that delta.</p>
<dl class="section note"><dt>Note</dt><dd>For changing default object access controls, the Patch and Update APIs basically offer the same functionality. The only field that can be modified by either API is <code>role</code>, and it may only be set to a new value (it cannot be removed). The API is offered for consistency with the other resource types where Patch and Update APIs have different semantics.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">entity</td><td>the identifier for the user, group, service account, or predefined set of actors holding the permission. </td></tr>
    <tr><td class="paramname">original_acl</td><td>the original ACL value. </td></tr>
    <tr><td class="paramname">new_acl</td><td>the new ACL value. Note that only changes on writeable fields will be accepted by the server. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, as well as the standard parameters, such as <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMatchEtag.html" title="A pre-condition: apply this operation only if the HTTP Entity Tag matches. ">IfMatchEtag</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfNoneMatchEtag.html" title="A pre-condition: apply this operation only if the HTTP Entity Tag does not match. ...">IfNoneMatchEtag</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string entity,</div><div class="line">     std::string role) {</div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; original_acl =</div><div class="line">        client.GetDefaultObjectAcl(bucket_name, entity);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!original_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure getting default object ACL for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; original_acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> new_acl = *original_acl;</div><div class="line">    new_acl.set_role(role);</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; patched_acl =</div><div class="line">        client.PatchDefaultObjectAcl(bucket_name, entity, *original_acl,</div><div class="line">                                     new_acl);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!patched_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure patching default object ACL for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; patched_acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Default Object ACL entry for &quot;</span> &lt;&lt; patched_acl-&gt;entity()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; patched_acl-&gt;bucket() &lt;&lt; <span class="stringliteral">&quot; is now &quot;</span></div><div class="line">              &lt;&lt; *patched_acl &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/create-manage-lists#defaultobjects">https://cloud.google.com/storage/docs/access-control/create-manage-lists#defaultobjects</a> </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameter. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#permissions">https://cloud.google.com/storage/docs/access-control/lists#permissions</a> for the format of the <code>role</code> parameter. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l02094">2094</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="adfe836200fb5609e002502e54a0f740e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfe836200fb5609e002502e54a0f740e">&#9670;&nbsp;</a></span>PatchDefaultObjectAcl() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a>&gt; google::cloud::storage::v0::Client::PatchDefaultObjectAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControlPatchBuilder.html">ObjectAccessControlPatchBuilder</a> const &amp;&#160;</td>
          <td class="paramname"><em>builder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Patches the value of an existing default object ACL. </p>
<p>This API allows the application to patch an <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html" title="Wraps the objectAccessControl resource in Google Cloud Storage. ">ObjectAccessControl</a> without having to read the current value.</p>
<dl class="section note"><dt>Note</dt><dd>For changing default object access controls, the Patch and Update APIs basically offer the same functionality. The only field that can be modified by either API is <code>role</code>, and it may only be set to a new value (it cannot be removed). The API is offered for consistency with the other resource types where Patch and Update APIs have different semantics.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">entity</td><td>the identifier for the user, group, service account, or predefined set of actors holding the permission. </td></tr>
    <tr><td class="paramname">builder</td><td>a builder ready to create the patch. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, as well as the standard parameters, such as <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMatchEtag.html" title="A pre-condition: apply this operation only if the HTTP Entity Tag matches. ">IfMatchEtag</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfNoneMatchEtag.html" title="A pre-condition: apply this operation only if the HTTP Entity Tag does not match. ...">IfNoneMatchEtag</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string entity,</div><div class="line">     std::string role) {</div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; original_acl =</div><div class="line">        client.GetDefaultObjectAcl(bucket_name, entity);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!original_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure getting default object ACL for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; original_acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">auto</span> new_acl = *original_acl;</div><div class="line">    new_acl.set_role(role);</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; patched_acl =</div><div class="line">        client.PatchDefaultObjectAcl(bucket_name, entity, *original_acl,</div><div class="line">                                     new_acl);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!patched_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure patching default object ACL for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; patched_acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Default Object ACL entry for &quot;</span> &lt;&lt; patched_acl-&gt;entity()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; patched_acl-&gt;bucket() &lt;&lt; <span class="stringliteral">&quot; is now &quot;</span></div><div class="line">              &lt;&lt; *patched_acl &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment -->no-read</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/create-manage-lists#defaultobjects">https://cloud.google.com/storage/docs/access-control/create-manage-lists#defaultobjects</a> </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameter. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#permissions">https://cloud.google.com/storage/docs/access-control/lists#permissions</a> for the format of the <code>role</code> parameter. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l02142">2142</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a9f9d968a1b79e5333709316bb1b27ace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f9d968a1b79e5333709316bb1b27ace">&#9670;&nbsp;</a></span>PatchObject() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a>&gt; google::cloud::storage::v0::Client::PatchObject </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a> const &amp;&#160;</td>
          <td class="paramname"><em>original</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a> const &amp;&#160;</td>
          <td class="paramname"><em>updated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Patches the metadata in a Google Cloud Storage Object. </p>
<p>This function creates a patch request to change the writeable attributes in <code>original</code> to the values in <code>updated</code>. Non-writeable attributes are ignored, and attributes not present in <code>updated</code> are removed. Typically this function is used after the application obtained a value with <code>GetObjectMetadata</code> and has modified these parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the bucket that contains the object to be updated. </td></tr>
    <tr><td class="paramname">object_name</td><td>the object to be updated. </td></tr>
    <tr><td class="paramname">original</td><td>the initial value of the object metadata. </td></tr>
    <tr><td class="paramname">updated</td><td>the updated value for the object metadata. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the object generation matches. ">IfGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1PredefinedAcl.html" title="Set the ACL to predefined values when creating Buckets or Objects. ">PredefinedAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string key) {</div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; original =</div><div class="line">        client.GetObjectMetadata(bucket_name, object_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!original) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting object metadata for object &quot;</span> &lt;&lt; object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; original.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    gcs::ObjectMetadata desired = *original;</div><div class="line">    desired.mutable_metadata().erase(key);</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; updated =</div><div class="line">        client.PatchObject(bucket_name, object_name, *original, desired);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!updated) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error updating object metadata for object &quot;</span></div><div class="line">                &lt;&lt; original-&gt;name() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; original-&gt;bucket()</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; updated.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Object updated. The full metadata after the update is: &quot;</span></div><div class="line">              &lt;&lt; *updated &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01081">1081</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="abb1a1f9f4a6e68c83437f22a2eac78e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb1a1f9f4a6e68c83437f22a2eac78e1">&#9670;&nbsp;</a></span>PatchObject() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a>&gt; google::cloud::storage::v0::Client::PatchObject </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadataPatchBuilder.html">ObjectMetadataPatchBuilder</a> const &amp;&#160;</td>
          <td class="paramname"><em>builder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Patches the metadata in a Google Cloud Storage Object. </p>
<p>This function creates a patch request based on the given <code>builder</code>. Typically this function is used when the application needs to set an object's metadata fields regardless of their previous value (i.e. when calling GetObjectMetadata first is not necessary).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the bucket that contains the object to be updated. </td></tr>
    <tr><td class="paramname">object_name</td><td>the object to be updated. </td></tr>
    <tr><td class="paramname">builder</td><td>the set of updates to perform in the Object metadata. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the object generation matches. ">IfGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1PredefinedAcl.html" title="Set the ACL to predefined values when creating Buckets or Objects. ">PredefinedAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string content_type) {</div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; updated = client.PatchObject(</div><div class="line">        bucket_name, object_name,</div><div class="line">        gcs::ObjectMetadataPatchBuilder().SetContentType(content_type));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!updated) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error patching object metadata for object &quot;</span> &lt;&lt; object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; updated.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Object updated. The full metadata after the update is: &quot;</span></div><div class="line">              &lt;&lt; *updated &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01117">1117</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a1c67c5dda66cbc99a4f4c0ac37e2ea8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c67c5dda66cbc99a4f4c0ac37e2ea8c">&#9670;&nbsp;</a></span>PatchObjectAcl() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a>&gt; google::cloud::storage::v0::Client::PatchObjectAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> const &amp;&#160;</td>
          <td class="paramname"><em>original_acl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> const &amp;&#160;</td>
          <td class="paramname"><em>new_acl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Patches the value of an existing object ACL. </p>
<p>Compute the delta between a previous value for an <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html" title="Wraps the objectAccessControl resource in Google Cloud Storage. ">ObjectAccessControl</a> and the new value for an <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html" title="Wraps the objectAccessControl resource in Google Cloud Storage. ">ObjectAccessControl</a> and apply that delta.</p>
<dl class="section note"><dt>Note</dt><dd>For changing <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html" title="Wraps the objectAccessControl resource in Google Cloud Storage. ">ObjectAccessControl</a>, the Patch and Update APIs basically offer the same functionality. The only field that can be modified by either API is <code>role</code>, and it may only be set to a new value (it cannot be removed). The API is offered for consistency with the other resource types where Patch and Update APIs have different semantics.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that contains the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object. </td></tr>
    <tr><td class="paramname">entity</td><td>the identifier for the user, group, service account, or predefined set of actors holding the permission. </td></tr>
    <tr><td class="paramname">original_acl</td><td>the original ACL value. </td></tr>
    <tr><td class="paramname">new_acl</td><td>the new ACL value. Note that only changes on writeable fields will be accepted by the server. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMatchEtag.html" title="A pre-condition: apply this operation only if the HTTP Entity Tag matches. ">IfMatchEtag</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfNoneMatchEtag.html" title="A pre-condition: apply this operation only if the HTTP Entity Tag does not match. ...">IfNoneMatchEtag</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string entity, std::string role) {</div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; original_acl =</div><div class="line">        client.GetObjectAcl(bucket_name, object_name, entity);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!original_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting object ACL entry for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; and bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; original_acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    gcs::ObjectAccessControl new_acl = *original_acl;</div><div class="line">    new_acl.set_role(role);</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; patched_acl = client.PatchObjectAcl(</div><div class="line">        bucket_name, object_name, entity, *original_acl, new_acl);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!patched_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error patching object ACL entry for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; and bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; patched_acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;ACL entry for &quot;</span> &lt;&lt; patched_acl-&gt;entity() &lt;&lt; <span class="stringliteral">&quot; in object &quot;</span></div><div class="line">              &lt;&lt; patched_acl-&gt;object() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; patched_acl-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; is now &quot;</span> &lt;&lt; *patched_acl &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameters. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/json_api/v1/objectAccessControls">https://cloud.google.com/storage/docs/json_api/v1/objectAccessControls</a> for additional details on what fields are writeable. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01810">1810</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a11269bcd0eb25f9c6bbe3d59b20e5ce8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11269bcd0eb25f9c6bbe3d59b20e5ce8">&#9670;&nbsp;</a></span>PatchObjectAcl() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a>&gt; google::cloud::storage::v0::Client::PatchObjectAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>entity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControlPatchBuilder.html">ObjectAccessControlPatchBuilder</a> const &amp;&#160;</td>
          <td class="paramname"><em>builder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Patches the value of an existing object ACL. </p>
<p>This API allows the application to patch an <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html" title="Wraps the objectAccessControl resource in Google Cloud Storage. ">ObjectAccessControl</a> without having to read the current value.</p>
<dl class="section note"><dt>Note</dt><dd>For changing <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html" title="Wraps the objectAccessControl resource in Google Cloud Storage. ">ObjectAccessControl</a>, the Patch and Update APIs basically offer the same functionality. The only field that can be modified by either API is <code>role</code>, and it may only be set to a new value (it cannot be removed). The API is offered for consistency with the other resource types where Patch and Update APIs have different semantics.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that contains the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object. </td></tr>
    <tr><td class="paramname">entity</td><td>the identifier for the user, group, service account, or predefined set of actors holding the permission. </td></tr>
    <tr><td class="paramname">builder</td><td>a builder ready to create the patch. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMatchEtag.html" title="A pre-condition: apply this operation only if the HTTP Entity Tag matches. ">IfMatchEtag</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfNoneMatchEtag.html" title="A pre-condition: apply this operation only if the HTTP Entity Tag does not match. ...">IfNoneMatchEtag</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string entity, std::string role) {</div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; patched_acl = client.PatchObjectAcl(</div><div class="line">        bucket_name, object_name, entity,</div><div class="line">        gcs::ObjectAccessControlPatchBuilder().set_role(role));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!patched_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error patching object ACL entry for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; and bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; patched_acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;ACL entry for &quot;</span> &lt;&lt; patched_acl-&gt;entity() &lt;&lt; <span class="stringliteral">&quot; in object &quot;</span></div><div class="line">              &lt;&lt; patched_acl-&gt;object() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; patched_acl-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; is now &quot;</span> &lt;&lt; *patched_acl &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameters. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/json_api/v1/objectAccessControls">https://cloud.google.com/storage/docs/json_api/v1/objectAccessControls</a> for additional details on what fields are writeable. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01855">1855</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a84569cd8e135373f6e299c3c146317f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84569cd8e135373f6e299c3c146317f6">&#9670;&nbsp;</a></span>raw_client()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;internal::RawClient&gt; google::cloud::storage::v0::Client::raw_client </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Access the underlying <code>RawClient</code>. </p>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00209">209</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a511f352533a2bda918c37f05b02f1469"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a511f352533a2bda918c37f05b02f1469">&#9670;&nbsp;</a></span>ReadObject()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectReadStream.html">ObjectReadStream</a> google::cloud::storage::v0::Client::ReadObject </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the contents of an object. </p>
<p>Returns an object derived from <code>std::istream</code> which can be used to read the contents of the GCS blob. The application should check the <code>badbit</code> (e.g. by calling <code>stream.bad()</code>) on the returned object to detect if there was an error reading from the blob. If <code>badbit</code> is set, the application can check the <code>status()</code> variable to get details about the failure. Applications can also set the exception mask on the returned stream, in which case an exception is thrown if an error is detected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that contains the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object to be read. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DisableCrc32cChecksum.html" title="Disable MD5 Hashing computations. ">DisableCrc32cChecksum</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DisableMD5Hash.html" title="Disable MD5 Hashing computations. ">DisableMD5Hash</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1EncryptionKey.html" title="An optional parameter to set the Customer-Supplied Encryption key. ">EncryptionKey</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the object generation matches. ">IfGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1ReadRange.html" title="Request only a portion of the GCS object in a ReadObject operation. ">ReadRange</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name) {</div><div class="line">    gcs::ObjectReadStream stream = client.ReadObject(bucket_name, object_name);</div><div class="line"></div><div class="line">    <span class="keywordtype">int</span> count = 0;</div><div class="line">    std::string line;</div><div class="line">    <span class="keywordflow">while</span> (std::getline(stream, line, <span class="charliteral">&#39;\n&#39;</span>)) {</div><div class="line">      ++count;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The object has &quot;</span> &lt;&lt; count &lt;&lt; <span class="stringliteral">&quot; lines&quot;</span> &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example: read a object encrypted with a CSEK.</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string base64_aes256_key) {</div><div class="line">    gcs::ObjectReadStream stream =</div><div class="line">        client.ReadObject(bucket_name, object_name,</div><div class="line">                          gcs::EncryptionKey::FromBase64Key(base64_aes256_key));</div><div class="line"></div><div class="line">    std::string data(std::istreambuf_iterator&lt;char&gt;{stream}, {});</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The object contents are: &quot;</span> &lt;&lt; data &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00848">848</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="ada8f04abb2ebbceae9272fd3d6a3d2c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada8f04abb2ebbceae9272fd3d6a3d2c4">&#9670;&nbsp;</a></span>ResumeRewriteObject()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectRewriter.html">ObjectRewriter</a> google::cloud::storage::v0::Client::ResumeRewriteObject </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>source_bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>source_object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>destination_bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>destination_object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>rewrite_token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectRewriter.html" title="Complete long running object rewrite operations. ">ObjectRewriter</a></code> to resume a previously created rewrite. </p>
<p>Applications use this function to resume a rewrite operation, possibly created with <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a16f1e39a3259246f296cb38627426b6e" title="Creates an ObjectRewriter to copy the source object. ">RewriteObject()</a></code>. Rewrite can reliably copy objects across location boundaries, and can rewrite objects with different encryption keys. For large objects this operation can take a long time, thus applications should consider checkpointing the rewrite token (accessible in the <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectRewriter.html" title="Complete long running object rewrite operations. ">ObjectRewriter</a></code>) and restarting the operation in the event the program is terminated.</p>
<dl class="section note"><dt>Note</dt><dd>Application developers should be aware that rewriting large objects may take multiple hours. Multiple calls to <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectRewriter.html#acbe3b00868463055a21d754148235e83" title="Perform one iteration in the rewrite. ">ObjectRewriter::Iterate()</a></code> may be required to completely rewrite an object.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source_bucket_name</td><td>the name of the bucket containing the source object. </td></tr>
    <tr><td class="paramname">source_object_name</td><td>the name of the source object. </td></tr>
    <tr><td class="paramname">destination_bucket_name</td><td>where the destination object will be located. </td></tr>
    <tr><td class="paramname">destination_object_name</td><td>what to name the destination object. </td></tr>
    <tr><td class="paramname">rewrite_token</td><td>the token from a previous successful rewrite iteration. Can be the empty string, in which case this starts a new rewrite operation. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DestinationKmsKeyName.html" title="Configure the Customer-Managed Encryption Key (CMEK) for an rewrite. ">DestinationKmsKeyName</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DestinationPredefinedAcl.html" title="Set the ACL to a predefined value when copying Objects. ">DestinationPredefinedAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1EncryptionKey.html" title="An optional parameter to set the Customer-Supplied Encryption key. ">EncryptionKey</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the object generation matches. ">IfGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceGenerationMatch.html" title="A pre-condition: the request succeeds if the source object generation matches. ">IfSourceGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the source object generation matches. ">IfSourceGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceMetagenerationMatch.html" title="A pre-condition: the request succeeds if the source object metadata generation matches. ">IfSourceMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the source object metadata generation matches...">IfSourceMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1MaxBytesRewrittenPerCall.html" title="Limit the number of bytes rewritten in a Objects: rewrite step. ">MaxBytesRewrittenPerCall</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1SourceEncryptionKey.html" title="An optional parameter to set the Customer-Supplied Encryption key for rewrite source object...">SourceEncryptionKey</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1SourceGeneration.html" title="Set the generation for the source object in copy operations. ">SourceGeneration</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1WithObjectMetadata.html" title="A request option to define the object metadata attributes. ">WithObjectMetadata</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string source_bucket_name,</div><div class="line">     std::string source_object_name, std::string destination_bucket_name,</div><div class="line">     std::string destination_object_name, std::string rewrite_token) {</div><div class="line">    gcs::ObjectRewriter rewriter = client.ResumeRewriteObject(</div><div class="line">        source_bucket_name, source_object_name, destination_bucket_name,</div><div class="line">        destination_object_name, rewrite_token,</div><div class="line">        gcs::MaxBytesRewrittenPerCall(1024 * 1024));</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata =</div><div class="line">        rewriter.ResultWithProgressCallback(</div><div class="line">            [](StatusOr&lt;gcs::RewriteProgress&gt; <span class="keyword">const</span>&amp; progress) {</div><div class="line">              <span class="keywordflow">if</span> (!progress) {</div><div class="line">                std::cerr &lt;&lt; <span class="stringliteral">&quot;Error during rewrite: &quot;</span> &lt;&lt; progress.status()</div><div class="line">                          &lt;&lt; std::endl;</div><div class="line">                <span class="keywordflow">return</span>;</div><div class="line">              }</div><div class="line">              std::cout &lt;&lt; <span class="stringliteral">&quot;Rewrote &quot;</span> &lt;&lt; progress-&gt;total_bytes_rewritten &lt;&lt; <span class="stringliteral">&quot;/&quot;</span></div><div class="line">                        &lt;&lt; progress-&gt;object_size &lt;&lt; std::endl;</div><div class="line">            });</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      <span class="keywordflow">return</span>;  <span class="comment">// No need to report the error, already done in the callback.</span></div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Rewrote object &quot;</span> &lt;&lt; object_metadata-&gt;name() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">              &lt;&lt; object_metadata-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull Metadata: &quot;</span> &lt;&lt; *object_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01251">1251</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a16f1e39a3259246f296cb38627426b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16f1e39a3259246f296cb38627426b6e">&#9670;&nbsp;</a></span>RewriteObject()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectRewriter.html">ObjectRewriter</a> google::cloud::storage::v0::Client::RewriteObject </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>source_bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>source_object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>destination_bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>destination_object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectRewriter.html" title="Complete long running object rewrite operations. ">ObjectRewriter</a></code> to copy the source object. </p>
<p>Applications use this function to reliably copy objects across <a href="https://cloud.google.com/storage/docs/locations">location boundaries</a>, and to rewrite objects with different encryption keys. The operation returns a <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectRewriter.html" title="Complete long running object rewrite operations. ">ObjectRewriter</a></code>, which the application can use to initiate the copy and to iterate if the copy requires more than one call to complete.</p>
<dl class="section note"><dt>Note</dt><dd>Application developers should be aware that rewriting large objects may take multiple hours. Multiple calls to <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectRewriter.html#acbe3b00868463055a21d754148235e83" title="Perform one iteration in the rewrite. ">ObjectRewriter::Iterate()</a></code> may be required to completely rewrite an object.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source_bucket_name</td><td>the name of the bucket containing the source object. </td></tr>
    <tr><td class="paramname">source_object_name</td><td>the name of the source object. </td></tr>
    <tr><td class="paramname">destination_bucket_name</td><td>where the destination object will be located. </td></tr>
    <tr><td class="paramname">destination_object_name</td><td>what to name the destination object. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DestinationKmsKeyName.html" title="Configure the Customer-Managed Encryption Key (CMEK) for an rewrite. ">DestinationKmsKeyName</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DestinationPredefinedAcl.html" title="Set the ACL to a predefined value when copying Objects. ">DestinationPredefinedAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1EncryptionKey.html" title="An optional parameter to set the Customer-Supplied Encryption key. ">EncryptionKey</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the object generation matches. ">IfGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceGenerationMatch.html" title="A pre-condition: the request succeeds if the source object generation matches. ">IfSourceGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the source object generation matches. ">IfSourceGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceMetagenerationMatch.html" title="A pre-condition: the request succeeds if the source object metadata generation matches. ">IfSourceMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the source object metadata generation matches...">IfSourceMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1MaxBytesRewrittenPerCall.html" title="Limit the number of bytes rewritten in a Objects: rewrite step. ">MaxBytesRewrittenPerCall</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1SourceEncryptionKey.html" title="An optional parameter to set the Customer-Supplied Encryption key for rewrite source object...">SourceEncryptionKey</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1SourceGeneration.html" title="Set the generation for the source object in copy operations. ">SourceGeneration</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1WithObjectMetadata.html" title="A request option to define the object metadata attributes. ">WithObjectMetadata</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string source_bucket_name,</div><div class="line">     std::string source_object_name, std::string destination_bucket_name,</div><div class="line">     std::string destination_object_name) {</div><div class="line">    gcs::ObjectRewriter rewriter =</div><div class="line">        client.RewriteObject(source_bucket_name, source_object_name,</div><div class="line">                             destination_bucket_name, destination_object_name);</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata =</div><div class="line">        rewriter.ResultWithProgressCallback(</div><div class="line">            [](StatusOr&lt;gcs::RewriteProgress&gt; <span class="keyword">const</span>&amp; progress) {</div><div class="line">              <span class="keywordflow">if</span> (!progress) {</div><div class="line">                std::cerr &lt;&lt; <span class="stringliteral">&quot;Error during rewrite: &quot;</span> &lt;&lt; progress.status()</div><div class="line">                          &lt;&lt; std::endl;</div><div class="line">                <span class="keywordflow">return</span>;</div><div class="line">              }</div><div class="line"></div><div class="line">              std::cout &lt;&lt; <span class="stringliteral">&quot;Rewrote &quot;</span> &lt;&lt; progress-&gt;total_bytes_rewritten &lt;&lt; <span class="stringliteral">&quot;/&quot;</span></div><div class="line">                        &lt;&lt; progress-&gt;object_size &lt;&lt; std::endl;</div><div class="line">            });</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      <span class="keywordflow">return</span>;  <span class="comment">// No need to report the error, already done in the callback.</span></div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Rewrote object &quot;</span> &lt;&lt; object_metadata-&gt;name() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">              &lt;&lt; object_metadata-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull Metadata: &quot;</span> &lt;&lt; *object_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string source_bucket_name,</div><div class="line">     std::string source_object_name, std::string destination_bucket_name,</div><div class="line">     std::string destination_object_name, std::string rewrite_token) {</div><div class="line">    gcs::ObjectRewriter rewriter = client.ResumeRewriteObject(</div><div class="line">        source_bucket_name, source_object_name, destination_bucket_name,</div><div class="line">        destination_object_name, rewrite_token,</div><div class="line">        gcs::MaxBytesRewrittenPerCall(1024 * 1024));</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata =</div><div class="line">        rewriter.ResultWithProgressCallback(</div><div class="line">            [](StatusOr&lt;gcs::RewriteProgress&gt; <span class="keyword">const</span>&amp; progress) {</div><div class="line">              <span class="keywordflow">if</span> (!progress) {</div><div class="line">                std::cerr &lt;&lt; <span class="stringliteral">&quot;Error during rewrite: &quot;</span> &lt;&lt; progress.status()</div><div class="line">                          &lt;&lt; std::endl;</div><div class="line">                <span class="keywordflow">return</span>;</div><div class="line">              }</div><div class="line">              std::cout &lt;&lt; <span class="stringliteral">&quot;Rewrote &quot;</span> &lt;&lt; progress-&gt;total_bytes_rewritten &lt;&lt; <span class="stringliteral">&quot;/&quot;</span></div><div class="line">                        &lt;&lt; progress-&gt;object_size &lt;&lt; std::endl;</div><div class="line">            });</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      <span class="keywordflow">return</span>;  <span class="comment">// No need to report the error, already done in the callback.</span></div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Rewrote object &quot;</span> &lt;&lt; object_metadata-&gt;name() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">              &lt;&lt; object_metadata-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull Metadata: &quot;</span> &lt;&lt; *object_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01199">1199</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a670b4499a7a4993f8a22f04ffe158235"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a670b4499a7a4993f8a22f04ffe158235">&#9670;&nbsp;</a></span>RewriteObjectBlocking()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a>&gt; google::cloud::storage::v0::Client::RewriteObjectBlocking </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>source_bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>source_object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>destination_bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>destination_object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rewrites the object, blocking until the rewrite completes, and returns the resulting <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html" title="Represents the metadata for a Google Cloud Storage Object. ">ObjectMetadata</a></code>. </p>
<p>Applications use this function to reliably copy objects across <a href="https://cloud.google.com/storage/docs/locations">location boundaries</a>, and to rewrite objects with different encryption keys. The operation blocks until the rewrite completes, and returns the resulting <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html" title="Represents the metadata for a Google Cloud Storage Object. ">ObjectMetadata</a></code>.</p>
<dl class="section note"><dt>Note</dt><dd>Application developers should be aware that rewriting large objects may take multiple hours. In such cases the application should consider using <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a16f1e39a3259246f296cb38627426b6e" title="Creates an ObjectRewriter to copy the source object. ">RewriteObject()</a></code> or <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#ada8f04abb2ebbceae9272fd3d6a3d2c4" title="Creates an ObjectRewriter to resume a previously created rewrite. ">ResumeRewriteObject()</a></code>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source_bucket_name</td><td>the name of the bucket containing the source object. </td></tr>
    <tr><td class="paramname">source_object_name</td><td>the name of the source object. </td></tr>
    <tr><td class="paramname">destination_bucket_name</td><td>where the destination object will be located. </td></tr>
    <tr><td class="paramname">destination_object_name</td><td>what to name the destination object. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DestinationKmsKeyName.html" title="Configure the Customer-Managed Encryption Key (CMEK) for an rewrite. ">DestinationKmsKeyName</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DestinationPredefinedAcl.html" title="Set the ACL to a predefined value when copying Objects. ">DestinationPredefinedAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1EncryptionKey.html" title="An optional parameter to set the Customer-Supplied Encryption key. ">EncryptionKey</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the object generation matches. ">IfGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceGenerationMatch.html" title="A pre-condition: the request succeeds if the source object generation matches. ">IfSourceGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the source object generation matches. ">IfSourceGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceMetagenerationMatch.html" title="A pre-condition: the request succeeds if the source object metadata generation matches. ">IfSourceMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfSourceMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the source object metadata generation matches...">IfSourceMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1MaxBytesRewrittenPerCall.html" title="Limit the number of bytes rewritten in a Objects: rewrite step. ">MaxBytesRewrittenPerCall</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1SourceEncryptionKey.html" title="An optional parameter to set the Customer-Supplied Encryption key for rewrite source object...">SourceEncryptionKey</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1SourceGeneration.html" title="Set the generation for the source object in copy operations. ">SourceGeneration</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1WithObjectMetadata.html" title="A request option to define the object metadata attributes. ">WithObjectMetadata</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The metadata of the newly created object.</dd></dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string source_bucket_name,</div><div class="line">     std::string source_object_name, std::string destination_bucket_name,</div><div class="line">     std::string destination_object_name) {</div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata =</div><div class="line">        client.RewriteObjectBlocking(source_bucket_name, source_object_name,</div><div class="line">                                     destination_bucket_name,</div><div class="line">                                     destination_object_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Cannot rewrite object &quot;</span> &lt;&lt; source_object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; source_bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_metadata.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Rewrote object &quot;</span> &lt;&lt; destination_object_name</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; Metadata: &quot;</span> &lt;&lt; *object_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example: using rewrite object to rotate the encryption key</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string old_key_base64, std::string new_key_base64) {</div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata =</div><div class="line">        client.RewriteObjectBlocking(</div><div class="line">            bucket_name, object_name, bucket_name, object_name,</div><div class="line">            gcs::SourceEncryptionKey::FromBase64Key(old_key_base64),</div><div class="line">            gcs::EncryptionKey::FromBase64Key(new_key_base64));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error rotating key on object &quot;</span> &lt;&lt; object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_metadata.status() &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Rotated key on object &quot;</span> &lt;&lt; object_metadata-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; object_metadata-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull Metadata: &quot;</span> &lt;&lt; *object_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example: using rewrite object to rename an object</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string old_object_name,</div><div class="line">     std::string new_object_name) {</div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata =</div><div class="line">        client.RewriteObjectBlocking(bucket_name, old_object_name, bucket_name,</div><div class="line">                                     new_object_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error renaming object &quot;</span> &lt;&lt; old_object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_metadata.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    google::cloud::Status status =</div><div class="line">        client.DeleteObject(bucket_name, old_object_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!status.ok()) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error deleting original object &quot;</span> &lt;&lt; old_object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; status</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Renamed &quot;</span> &lt;&lt; old_object_name &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; new_object_name</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01309">1309</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a802329cdf98fca30947c72939a2db238"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a802329cdf98fca30947c72939a2db238">&#9670;&nbsp;</a></span>SetBucketIamPolicy()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;IamPolicy&gt; google::cloud::storage::v0::Client::SetBucketIamPolicy </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IamPolicy const &amp;&#160;</td>
          <td class="paramname"><em>iam_policy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the <a class="elRef" doxygen="/v/build-output/ubuntu-18.04-gcc-Release/google/cloud/cloud.tag:../common/" href="../common/structgoogle_1_1cloud_1_1v0_1_1IamPolicy.html">IAM Policy</a> for a Bucket. </p>
<p>Google Cloud Identity &amp; Access Management (IAM) lets administrators authorize who can take action on specific resources, including Google Cloud Storage Buckets. This operation allows you to set the IAM policies for a Bucket. IAM policies are a superset of the Bucket ACL, changes to the Bucket ACL are reflected in the IAM policy, and vice-versa. The documentation describes <a href="https://cloud.google.com/storage/docs/access-control/iam#acls">the mapping</a> between legacy Bucket ACLs and IAM policies.</p>
<p>Consult <a href="https://cloud.google.com/storage/docs/access-control/iam">the documentation</a> for a more detailed description of IAM policies their use in Google Cloud Storage.</p>
<dl class="section note"><dt>Note</dt><dd>The server rejects requests where the ETag value of the policy does not match the current ETag. Effectively this means that applications must use <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a8d0a35e550d682a750dd3a4f24fd054f" title="Fetches the IAM policy for a Bucket. ">GetBucketIamPolicy()</a></code> to fetch the current value and ETag before calling <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#a802329cdf98fca30947c72939a2db238" title="Sets the IAM Policy for a Bucket. ">SetBucketIamPolicy()</a></code>. Applications should use optimistic concurrency control techniques to retry changes in case some other application modified the IAM policy between the <code>GetBucketIamPolicy</code> and <code>SetBucketIamPolicy</code> calls.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>query metadata information about this bucket. </td></tr>
    <tr><td class="paramname">iam_policy</td><td>the new IAM policy. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example: adding a new member</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string role,</div><div class="line">     std::string member) {</div><div class="line">    StatusOr&lt;google::cloud::IamPolicy&gt; policy =</div><div class="line">        client.GetBucketIamPolicy(bucket_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!policy) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting current IAM policy for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; policy.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    policy-&gt;bindings.AddMember(role, member);</div><div class="line"></div><div class="line">    StatusOr&lt;google::cloud::IamPolicy&gt; updated_policy =</div><div class="line">        client.SetBucketIamPolicy(bucket_name, *policy);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!updated_policy) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error setting IAM policy for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; updated_policy.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Updated IAM policy bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;. The new policy is &quot;</span> &lt;&lt; *updated_policy &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example: removing a IAM member</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string role,</div><div class="line">     std::string member) {</div><div class="line">    StatusOr&lt;google::cloud::IamPolicy&gt; policy =</div><div class="line">        client.GetBucketIamPolicy(bucket_name);</div><div class="line">    <span class="keywordflow">if</span> (!policy) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting current IAM policy for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; policy.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    policy-&gt;bindings.RemoveMember(role, member);</div><div class="line"></div><div class="line">    StatusOr&lt;google::cloud::IamPolicy&gt; updated_policy =</div><div class="line">        client.SetBucketIamPolicy(bucket_name, *policy);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!updated_policy) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error setting IAM policy for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; updated_policy.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Updated IAM policy bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;. The new policy is &quot;</span> &lt;&lt; *updated_policy &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="elRef" doxygen="/v/build-output/ubuntu-18.04-gcc-Release/google/cloud/cloud.tag:../common/" href="../common/structgoogle_1_1cloud_1_1v0_1_1IamPolicy.html">google::cloud::v0::IamPolicy</a> for details about the <code>IamPolicy</code> class. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00565">565</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a261604a6537149c9ded66d46b5cd4768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a261604a6537149c9ded66d46b5cd4768">&#9670;&nbsp;</a></span>TestBucketIamPermissions()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;std::vector&lt;std::string&gt; &gt; google::cloud::storage::v0::Client::TestBucketIamPermissions </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>permissions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests the IAM permissions of the caller against a Bucket. </p>
<p>Google Cloud Identity &amp; Access Management (IAM) lets administrators authorize who can take action on specific resources, including Google Cloud Storage Buckets. This operation tests the permissions of the caller for a Bucket. You must provide a list of permissions, this API will return the subset of those permissions that the current caller has in the given Bucket.</p>
<p>Consult <a href="https://cloud.google.com/storage/docs/access-control/iam">the documentation</a> for a more detailed description of IAM policies their use in Google Cloud Storage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>query metadata information about this bucket. </td></tr>
    <tr><td class="paramname">permissions</td><td>the list of permissions to check. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name,</div><div class="line">     std::vector&lt;std::string&gt; permissions) {</div><div class="line">    StatusOr&lt;std::vector&lt;std::string&gt;&gt; actual_permissions =</div><div class="line">        client.TestBucketIamPermissions(bucket_name, permissions);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!actual_permissions) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error checking IAM permissions for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; actual_permissions.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (actual_permissions-&gt;empty()) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;The caller does not hold any of the tested permissions the&quot;</span></div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; bucket &quot;</span> &lt;&lt; bucket_name &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;The caller is authorized for the following permissions on &quot;</span></div><div class="line">              &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div><div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; permission : *actual_permissions) {</div><div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;\n    &quot;</span> &lt;&lt; permission;</div><div class="line">    }</div><div class="line">    std::cout &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00601">601</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="aeafcd6f543c55eade26544a9cde8e6c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeafcd6f543c55eade26544a9cde8e6c6">&#9670;&nbsp;</a></span>UpdateBucket()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a>&gt; google::cloud::storage::v0::Client::UpdateBucket </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html">BucketMetadata</a>&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the metadata in a Google Cloud Storage Bucket. </p>
<p>A <code>Buckets: update</code> request changes <em>all</em> the writeable attributes of a bucket, in contrast, a <code>Buckets: patch</code> request only changes the subset of the attributes included in the request. This function creates a <code>Buckets: update</code> request to change the writable attributes in <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketMetadata.html" title="Represents a Google Cloud Storage Bucket Metadata object. ">BucketMetadata</a></code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the new bucket. </td></tr>
    <tr><td class="paramname">metadata</td><td>the new metadata for the Bucket. The <code>name</code> field is ignored in favor of <code>bucket_name</code>. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1PredefinedAcl.html" title="Set the ACL to predefined values when creating Buckets or Objects. ">PredefinedAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1PredefinedDefaultObjectAcl.html" title="Set the default object ACL to a predefined value in a Bucket. ">PredefinedDefaultObjectAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case,<code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Idempotency</dt><dd>This is a read-only operation and is always idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string storage_class) {</div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; meta = client.GetBucketMetadata(bucket_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!meta) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error while getting metadata for bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; meta.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    meta-&gt;set_storage_class(storage_class);</div><div class="line">    StatusOr&lt;gcs::BucketMetadata&gt; updated_meta =</div><div class="line">        client.UpdateBucket(bucket_name, *meta);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!updated_meta) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error updating the metadata for bucket &quot;</span> &lt;&lt; meta-&gt;name()</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; meta.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Updated the storage class in &quot;</span> &lt;&lt; updated_meta-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; updated_meta-&gt;storage_class() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span></div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata:&quot;</span> &lt;&lt; *updated_meta &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00401">401</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a8f1d83a6d8703ce457827ae274f35112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f1d83a6d8703ce457827ae274f35112">&#9670;&nbsp;</a></span>UpdateBucketAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a>&gt; google::cloud::storage::v0::Client::UpdateBucketAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html">BucketAccessControl</a> const &amp;&#160;</td>
          <td class="paramname"><em>acl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the value of an existing bucket ACL. </p>
<dl class="section note"><dt>Note</dt><dd>For changing <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1BucketAccessControl.html" title="Wraps the bucketAccessControl resource in Google Cloud Storage. ">BucketAccessControl</a>, the Patch and Update APIs basically offer the same functionality. The only field that can be modified by either API is <code>role</code>, and it may only be set to a new value (it cannot be removed). The API is offered for consistency with the other resource types where Patch and Update APIs have different semantics.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">acl</td><td>the new ACL value. Note that only the writable values of the ACL will be modified by the server. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string entity,</div><div class="line">     std::string role) {</div><div class="line">    gcs::BucketAccessControl desired_acl =</div><div class="line">        gcs::BucketAccessControl().set_entity(entity).set_role(role);</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::BucketAccessControl&gt; updated_acl =</div><div class="line">        client.UpdateBucketAcl(bucket_name, desired_acl);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!updated_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error updating ACL for entity &quot;</span> &lt;&lt; entity &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; updated_acl.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Bucket ACL updated. The ACL entry for &quot;</span></div><div class="line">              &lt;&lt; updated_acl-&gt;entity() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; updated_acl-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; is &quot;</span> &lt;&lt; *updated_acl &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/json_api/v1/bucketAccessControls">https://cloud.google.com/storage/docs/json_api/v1/bucketAccessControls</a> for additional details on what fields are writeable. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameter. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#permissions">https://cloud.google.com/storage/docs/access-control/lists#permissions</a> for the format of the <code>role</code> parameter. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01492">1492</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="af0cc3774c205d86ebba8f83a4714ad64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0cc3774c205d86ebba8f83a4714ad64">&#9670;&nbsp;</a></span>UpdateDefaultObjectAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a>&gt; google::cloud::storage::v0::Client::UpdateDefaultObjectAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> const &amp;&#160;</td>
          <td class="paramname"><em>acl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the value of an existing default object ACL. </p>
<p>The default object ACL sets the ACL for any object created in the bucket, unless a different ACL is specified when the object is created.</p>
<dl class="section note"><dt>Note</dt><dd>For changing default object access controls, the Patch and Update APIs basically offer the same functionality. The only field that can be modified by either API is <code>role</code>, and it may only be set to a new value (it cannot be removed). The API is offered for consistency with the other resource types where Patch and Update APIs have different semantics.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket. </td></tr>
    <tr><td class="paramname">acl</td><td>the new ACL value. Note that only the writable values of the ACL will be modified by the server. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string entity,</div><div class="line">     std::string role) {</div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; original_acl =</div><div class="line">        client.GetDefaultObjectAcl(bucket_name, entity);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!original_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure getting default object ACL for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; original_acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    original_acl-&gt;set_role(role);</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; updated_acl =</div><div class="line">        client.UpdateDefaultObjectAcl(bucket_name, *original_acl);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!updated_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Failure updating default object ACL for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; updated_acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Default Object ACL entry for &quot;</span> &lt;&lt; updated_acl-&gt;entity()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; updated_acl-&gt;bucket() &lt;&lt; <span class="stringliteral">&quot; is now &quot;</span></div><div class="line">              &lt;&lt; *updated_acl &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/create-manage-lists#defaultobjects">https://cloud.google.com/storage/docs/access-control/create-manage-lists#defaultobjects</a> </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameter. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/access-control/lists#permissions">https://cloud.google.com/storage/docs/access-control/lists#permissions</a> for the format of the <code>role</code> parameter. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l02046">2046</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a6e8c495cc20cfeadb81995c3a77e37ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e8c495cc20cfeadb81995c3a77e37ab">&#9670;&nbsp;</a></span>UpdateObject()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a>&gt; google::cloud::storage::v0::Client::UpdateObject </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a>&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the metadata in a Google Cloud Storage Object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that contains the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object. </td></tr>
    <tr><td class="paramname">metadata</td><td>the new metadata for the Object. Only the writeable fields accepted by the <code>Objects: update</code> API are used, all other fields are ignored. In particular, note that <code>bucket</code> and <code>name</code> are ignored in favor of <code>bucket_name</code> and <code>object_name</code>. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the object generation matches. ">IfGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1PredefinedAcl.html" title="Set the ACL to predefined values when creating Buckets or Objects. ">PredefinedAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string key, std::string value) {</div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata =</div><div class="line">        client.GetObjectMetadata(bucket_name, object_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting object metadata for object &quot;</span> &lt;&lt; object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_metadata.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    gcs::ObjectMetadata desired = *object_metadata;</div><div class="line">    desired.mutable_metadata().emplace(key, value);</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; updated =</div><div class="line">        client.UpdateObject(bucket_name, object_name, desired,</div><div class="line">                            gcs::Generation(object_metadata-&gt;generation()));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!updated) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error updating object metadata for object &quot;</span></div><div class="line">                &lt;&lt; object_metadata-&gt;name() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; object_metadata-&gt;bucket() &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; updated.status()</div><div class="line">                &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Object updated. The full metadata after the update is: &quot;</span></div><div class="line">              &lt;&lt; *updated &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01044">1044</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a3f7d5ee8958d7912552af525c1be3574"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f7d5ee8958d7912552af525c1be3574">&#9670;&nbsp;</a></span>UpdateObjectAcl()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a>&gt; google::cloud::storage::v0::Client::UpdateObjectAcl </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html">ObjectAccessControl</a> const &amp;&#160;</td>
          <td class="paramname"><em>acl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the value of an existing object ACL. </p>
<dl class="section note"><dt>Note</dt><dd>For changing <a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectAccessControl.html" title="Wraps the objectAccessControl resource in Google Cloud Storage. ">ObjectAccessControl</a>, the Patch and Update APIs basically offer the same functionality. The only field that can be modified by either API is <code>role</code>, and it may only be set to a new value (it cannot be removed). The API is offered for consistency with the other resource types where Patch and Update APIs have different semantics.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that contains the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object. </td></tr>
    <tr><td class="paramname">acl</td><td>the new ACL value. Note that only the writable values of the ACL will be modified by the server. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Generation.html" title="Set the version of an object to operate on. ">Generation</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions. There are no pre-conditions for this operation that can make it idempotent.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string entity, std::string role) {</div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; current_acl =</div><div class="line">        client.GetObjectAcl(bucket_name, object_name, entity);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!current_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error getting object ACL entry for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; and bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; current_acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    current_acl-&gt;set_role(role);</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::ObjectAccessControl&gt; updated_acl =</div><div class="line">        client.UpdateObjectAcl(bucket_name, object_name, *current_acl);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!updated_acl) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error updating object ACL for entity &quot;</span> &lt;&lt; entity</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; and bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; updated_acl.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;ACL entry for &quot;</span> &lt;&lt; updated_acl-&gt;entity() &lt;&lt; <span class="stringliteral">&quot; in object &quot;</span></div><div class="line">              &lt;&lt; updated_acl-&gt;object() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; updated_acl-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; is now &quot;</span> &lt;&lt; *updated_acl &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://cloud.google.com/storage/docs/access-control/lists#scopes">https://cloud.google.com/storage/docs/access-control/lists#scopes</a> for the format of the <code>entity</code> parameters. </dd>
<dd>
<a href="https://cloud.google.com/storage/docs/json_api/v1/objectAccessControls">https://cloud.google.com/storage/docs/json_api/v1/objectAccessControls</a> for additional details on what fields are writeable. </dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l01763">1763</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="a2b80eec7745c6a68bbb37aade0caf3df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b80eec7745c6a68bbb37aade0caf3df">&#9670;&nbsp;</a></span>UploadFile()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StatusOr&lt;<a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectMetadata.html">ObjectMetadata</a>&gt; google::cloud::storage::v0::Client::UploadFile </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Uploads a file to an object. </p>
<dl class="section note"><dt>Note</dt><dd>Only regular files are supported. If you need to upload the results of reading a device, Named Pipe, FIFO, or other type of file system object that is <b>not</b> a regular file then <code><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1Client.html#ad55de30092d0f5159a6f6a7b55d5e38f" title="Writes contents into an object. ">WriteObject()</a></code> is probably a better alternative.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_name</td><td>the name of the file to be uploaded. </td></tr>
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that contains the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object to be read. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1ContentEncoding.html" title="Sets the contentEncoding option for object uploads. ">ContentEncoding</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1ContentType.html" title="Set the MIME content type of an object. ">ContentType</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Crc32cChecksumValue.html" title="Provide a pre-computed MD5 hash value to an upload or download request. ">Crc32cChecksumValue</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DisableCrc32cChecksum.html" title="Disable MD5 Hashing computations. ">DisableCrc32cChecksum</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DisableMD5Hash.html" title="Disable MD5 Hashing computations. ">DisableMD5Hash</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1EncryptionKey.html" title="An optional parameter to set the Customer-Supplied Encryption key. ">EncryptionKey</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the object generation matches. ">IfGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1KmsKeyName.html" title="Configure the Customer-Managed Encryption Key (CMEK) for an upload. ">KmsKeyName</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1MD5HashValue.html" title="Provide a pre-computed MD5 hash value to an upload or download request. ">MD5HashValue</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1PredefinedAcl.html" title="Set the ACL to predefined values when creating Buckets or Objects. ">PredefinedAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1WithObjectMetadata.html" title="A request option to define the object metadata attributes. ">WithObjectMetadata</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string file_name, std::string bucket_name,</div><div class="line">     std::string object_name) {</div><div class="line">    <span class="comment">// Note that the client library automatically computes a hash on the</span></div><div class="line">    <span class="comment">// client-side to verify data integrity during transmission.</span></div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata = client.UploadFile(</div><div class="line">        file_name, bucket_name, object_name, gcs::IfGenerationMatch(0));</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error uploading file &quot;</span> &lt;&lt; file_name &lt;&lt; <span class="stringliteral">&quot; to bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot; as object &quot;</span> &lt;&lt; object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_metadata.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Uploaded &quot;</span> &lt;&lt; file_name &lt;&lt; <span class="stringliteral">&quot; to object &quot;</span></div><div class="line">              &lt;&lt; object_metadata-&gt;name() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">              &lt;&lt; object_metadata-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *object_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example: manually selecting a resumable upload</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string file_name, std::string bucket_name,</div><div class="line">     std::string object_name) {</div><div class="line">    <span class="comment">// Note that the client library automatically computes a hash on the</span></div><div class="line">    <span class="comment">// client-side to verify data integrity during transmission.</span></div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; object_metadata = client.UploadFile(</div><div class="line">        file_name, bucket_name, object_name, gcs::IfGenerationMatch(0),</div><div class="line">        <a class="code" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a7b44fe45cc1adf04685b817928056f47">gcs::NewResumableUploadSession</a>());</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!object_metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error uploading file &quot;</span> &lt;&lt; file_name &lt;&lt; <span class="stringliteral">&quot; to bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot; as object &quot;</span> &lt;&lt; object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; object_metadata.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Uploaded &quot;</span> &lt;&lt; file_name &lt;&lt; <span class="stringliteral">&quot; to object &quot;</span></div><div class="line">              &lt;&lt; object_metadata-&gt;name() &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">              &lt;&lt; object_metadata-&gt;bucket()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *object_metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00953">953</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
<a id="ad55de30092d0f5159a6f6a7b55d5e38f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad55de30092d0f5159a6f6a7b55d5e38f">&#9670;&nbsp;</a></span>WriteObject()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Options&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogle_1_1cloud_1_1storage_1_1v0_1_1ObjectWriteStream.html">ObjectWriteStream</a> google::cloud::storage::v0::Client::WriteObject </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>bucket_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes contents into an object. </p>
<p>This creates a <code>std::ostream</code> object to upload contents. The application can use either the regular <code>operator&lt;&lt;()</code>, or <code>std::ostream::write()</code> to upload data.</p>
<p>The application can explicitly request a new resumable upload using the result of <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a7b44fe45cc1adf04685b817928056f47" title="Create a UseResumableUploadSession option that requests new sessions. ">NewResumableUploadSession()</a></code>. To restore a previously created resumable session use <code><a class="el" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a4011e191a6a3b96add28f23b04db3957" title="Create a UseResumableUploadSession option that restores previous sessions. ">RestoreResumableUploadSession()</a></code>.</p>
<dl class="section note"><dt>Note</dt><dd>It is the application's responsibility to query the stream to find the latest committed byte and to upload data starting from the next byte expected by the upload session.</dd>
<dd>
Using the <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1WithObjectMetadata.html" title="A request option to define the object metadata attributes. ">WithObjectMetadata</a></code> option implicitly creates a resumable upload.</dd></dl>
<p>Without resumable uploads an interrupted upload has to be restarted from the beginning. Therefore, applications streaming large objects should try to use resumable uploads, and save the session id to restore them if needed.</p>
<p>Non-resumable uploads may be more efficient for small and medium sized uploads, as they require fewer roundtrips to the service.</p>
<p>For small uploads we recommend using <code>InsertObject</code>, consult <a href="https://cloud.google.com/storage/docs/json_api/v1/how-tos/upload">the documentation</a> for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_name</td><td>the name of the bucket that contains the object. </td></tr>
    <tr><td class="paramname">object_name</td><td>the name of the object to be read. </td></tr>
    <tr><td class="paramname">options</td><td>a list of optional query parameters and/or request headers. Valid types for this operation include <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1ContentEncoding.html" title="Sets the contentEncoding option for object uploads. ">ContentEncoding</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1ContentType.html" title="Set the MIME content type of an object. ">ContentType</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Crc32cChecksumValue.html" title="Provide a pre-computed MD5 hash value to an upload or download request. ">Crc32cChecksumValue</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DisableCrc32cChecksum.html" title="Disable MD5 Hashing computations. ">DisableCrc32cChecksum</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1DisableMD5Hash.html" title="Disable MD5 Hashing computations. ">DisableMD5Hash</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1EncryptionKey.html" title="An optional parameter to set the Customer-Supplied Encryption key. ">EncryptionKey</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationNotMatch.html" title="A pre-condition: the request succeeds unless the object generation matches. ">IfGenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationMatch.html" title="A pre-condition: the request succeeds if the metadata generation matches. ">IfMetagenerationMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfMetagenerationNotMatch.html" title="A pre-condition: the request succeeds unless the metadata generation matches. ">IfMetagenerationNotMatch</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1KmsKeyName.html" title="Configure the Customer-Managed Encryption Key (CMEK) for an upload. ">KmsKeyName</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1MD5HashValue.html" title="Provide a pre-computed MD5 hash value to an upload or download request. ">MD5HashValue</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1PredefinedAcl.html" title="Set the ACL to predefined values when creating Buckets or Objects. ">PredefinedAcl</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1Projection.html" title="Controls what metadata fields are included in the response. ">Projection</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UseResumableUploadSession.html" title="Request a resumable upload, restoring a previous session if necessary. ">UseResumableUploadSession</a></code>, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1UserProject.html" title="Set the project used for billing in &quot;requester pays&quot; Buckets. ">UserProject</a></code>, and <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1WithObjectMetadata.html" title="A request option to define the object metadata attributes. ">WithObjectMetadata</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Idempotency</dt><dd>This operation is only idempotent if restricted by pre-conditions, in this case, <code><a class="el" href="structgoogle_1_1cloud_1_1storage_1_1v0_1_1IfGenerationMatch.html" title="A pre-condition: the request succeeds only if the object generation matches. ">IfGenerationMatch</a></code>.</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     <span class="keywordtype">long</span> desired_line_count) {</div><div class="line">    std::string <span class="keyword">const</span> text = <span class="stringliteral">&quot;Lorem ipsum dolor sit amet&quot;</span>;</div><div class="line">    gcs::ObjectWriteStream stream =</div><div class="line">        client.WriteObject(bucket_name, object_name);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lineno = 0; lineno != desired_line_count; ++lineno) {</div><div class="line">      <span class="comment">// Add 1 to the counter, because it is conventional to number lines</span></div><div class="line">      <span class="comment">// starting at 1.</span></div><div class="line">      stream &lt;&lt; (lineno + 1) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; text &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    stream.Close();</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; metadata = std::move(stream).metadata();</div><div class="line">    <span class="keywordflow">if</span> (!metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error while writing to object &quot;</span> &lt;&lt; object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; metadata.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Successfully wrote to object &quot;</span> &lt;&lt; metadata-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; its size is: &quot;</span> &lt;&lt; metadata-&gt;size()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example: write an object with a CMEK.</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string kms_key_name) {</div><div class="line">    gcs::ObjectWriteStream stream = client.WriteObject(</div><div class="line">        bucket_name, object_name, gcs::KmsKeyName(kms_key_name));</div><div class="line"></div><div class="line">    <span class="comment">// Line numbers start at 1.</span></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lineno = 1; lineno &lt;= 10; ++lineno) {</div><div class="line">      stream &lt;&lt; lineno &lt;&lt; <span class="stringliteral">&quot;: placeholder text for CMEK example.\n&quot;</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    stream.Close();</div><div class="line"></div><div class="line">    StatusOr&lt;gcs::ObjectMetadata&gt; metadata = std::move(stream).metadata();</div><div class="line">    <span class="keywordflow">if</span> (!metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error while writing to object &quot;</span> &lt;&lt; object_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span> &lt;&lt; bucket_name</div><div class="line">                &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; metadata.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Successfully wrote to object &quot;</span> &lt;&lt; metadata-&gt;name()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot; its size is: &quot;</span> &lt;&lt; metadata-&gt;size()</div><div class="line">              &lt;&lt; <span class="stringliteral">&quot;\nFull metadata: &quot;</span> &lt;&lt; *metadata &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example: starting a resumable upload.</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name) {</div><div class="line">    gcs::ObjectWriteStream stream = client.WriteObject(</div><div class="line">        bucket_name, object_name, <a class="code" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a7b44fe45cc1adf04685b817928056f47">gcs::NewResumableUploadSession</a>());</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Created resumable upload: &quot;</span> &lt;&lt; stream.resumable_session_id()</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">    <span class="comment">// As it is customary in C++, the destructor automatically closes the</span></div><div class="line">    <span class="comment">// stream, that would finish the upload and create the object. For this</span></div><div class="line">    <span class="comment">// example we want to restore the session as-if the application had crashed,</span></div><div class="line">    <span class="comment">// where no destructors get called.</span></div><div class="line">    stream &lt;&lt; <span class="stringliteral">&quot;This data will not get uploaded, it is too small&quot;</span> &lt;&lt; std::endl;</div><div class="line">    std::move(stream).Suspend();</div><div class="line">  }</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example: resuming a resumable upload.</dt><dd><div class="fragment"><div class="line">  <span class="keyword">namespace </span><a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">gcs</a> = <a class="code" href="namespacegoogle_1_1cloud_1_1storage.html">google::cloud::storage</a>;</div><div class="line">  <span class="keyword">using</span> google::cloud::StatusOr;</div><div class="line">  [](gcs::Client client, std::string bucket_name, std::string object_name,</div><div class="line">     std::string session_id) {</div><div class="line">    <span class="comment">// Restore a resumable upload stream, the library automatically queries the</span></div><div class="line">    <span class="comment">// state of the upload and discovers the next expected byte.</span></div><div class="line">    gcs::ObjectWriteStream stream =</div><div class="line">        client.WriteObject(bucket_name, object_name,</div><div class="line">                           <a class="code" href="namespacegoogle_1_1cloud_1_1storage_1_1v0.html#a4011e191a6a3b96add28f23b04db3957">gcs::RestoreResumableUploadSession</a>(session_id));</div><div class="line">    <span class="keywordflow">if</span> (stream.next_expected_byte() == 0) {</div><div class="line">      <span class="comment">// In this example we create a small object, smaller than the resumable</span></div><div class="line">      <span class="comment">// upload quantum (256 KiB), so either all the data is there or not.</span></div><div class="line">      <span class="comment">// Applications use `next_expected_byte()` to find the position in their</span></div><div class="line">      <span class="comment">// input where they need to start uploading.</span></div><div class="line">      stream &lt;&lt; R<span class="stringliteral">&quot;&quot;&quot;(</span></div><div class="line"><span class="stringliteral">Lorem ipsum dolor sit amet, consectetur adipiscing</span></div><div class="line"><span class="stringliteral">elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim</span></div><div class="line"><span class="stringliteral">ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea</span></div><div class="line"><span class="stringliteral">commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit</span></div><div class="line"><span class="stringliteral">esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat</span></div><div class="line"><span class="stringliteral">non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</span></div><div class="line"><span class="stringliteral">)&quot;&quot;&quot;;</span></div><div class="line"><span class="stringliteral">    }</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">    stream.Close();</span></div><div class="line"><span class="stringliteral"></span></div><div class="line"><span class="stringliteral">    StatusOr&lt;gcs::ObjectMetadata&gt; metadata = stream.metadata();</span></div><div class="line"><span class="stringliteral">    </span><span class="keywordflow">if</span> (!metadata) {</div><div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error writing object &quot;</span> &lt;&lt; object_name &lt;&lt; <span class="stringliteral">&quot; in bucket &quot;</span></div><div class="line">                &lt;&lt; bucket_name &lt;&lt; <span class="stringliteral">&quot;, status=&quot;</span> &lt;&lt; metadata.status() &lt;&lt; std::endl;</div><div class="line">      <span class="keywordflow">return</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Upload completed, the new object metadata is: &quot;</span> &lt;&lt; *metadata</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">  }</div></div><!-- fragment --></dd></dl>

<p class="definition">Definition at line <a class="el" href="client_8h_source.html#l00914">914</a> of file <a class="el" href="client_8h_source.html">client.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
