<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google Cloud C++ Client: log.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Google Cloud C++ Client
   &#160;<span id="projectnumber">1.26.0</span>
   </div>
   <div id="projectbrief">C++ Client Library for Google Cloud Platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">log.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Google Cloud Platform C++ Libraries logging framework.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="version_8h_source.html">google/cloud/version.h</a>&quot;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;functional&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;mutex&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
</div>
<p><a href="log_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgoogle_1_1cloud_1_1v1_1_1LogRecord.html">google::cloud::v1::LogRecord</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a single log message.  <a href="structgoogle_1_1cloud_1_1v1_1_1LogRecord.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1v1_1_1LogBackend.html">google::cloud::v1::LogBackend</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The logging backend interface.  <a href="classgoogle_1_1cloud_1_1v1_1_1LogBackend.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1v1_1_1LogSink.html">google::cloud::v1::LogSink</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A sink to receive log records.  <a href="classgoogle_1_1cloud_1_1v1_1_1LogSink.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgoogle_1_1cloud_1_1v1_1_1NullStream.html">google::cloud::v1::NullStream</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements operator&lt;&lt; for all types, without any effect.  <a href="structgoogle_1_1cloud_1_1v1_1_1NullStream.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1v1_1_1Logger.html">google::cloud::v1::Logger&lt; CompileTimeEnabled &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the class to capture a log message.  <a href="classgoogle_1_1cloud_1_1v1_1_1Logger.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogle_1_1cloud_1_1v1_1_1Logger_3_01false_01_4.html">google::cloud::v1::Logger&lt; false &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the logger for a disabled log level.  <a href="classgoogle_1_1cloud_1_1v1_1_1Logger_3_01false_01_4.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacegoogle"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegoogle.html">google</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacegoogle_1_1cloud"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegoogle_1_1cloud.html">google::cloud</a></td></tr>
<tr class="memdesc:namespacegoogle_1_1cloud"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains all the Google Cloud C++ Library APIs. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacegoogle_1_1cloud_1_1v1"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegoogle_1_1cloud_1_1v1.html">google::cloud::v1</a></td></tr>
<tr class="memdesc:namespacegoogle_1_1cloud_1_1v1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Google Cloud C++ Library inlined, versioned namespace. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a47ed26c7e3e9a1b67b56050f260d1e9e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a47ed26c7e3e9a1b67b56050f260d1e9e">GOOGLE_CLOUD_CPP_PP_CONCAT</a>(a,  b)&#160;&#160;&#160;a##b</td></tr>
<tr class="memdesc:a47ed26c7e3e9a1b67b56050f260d1e9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Concatenate two pre-processor tokens.  <a href="log_8h.html#a47ed26c7e3e9a1b67b56050f260d1e9e">More...</a><br /></td></tr>
<tr class="separator:a47ed26c7e3e9a1b67b56050f260d1e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48f881faa3b42d36b05f38a93ad4ea0d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a48f881faa3b42d36b05f38a93ad4ea0d">GOOGLE_CLOUD_CPP_LOGGER_IDENTIFIER</a>&#160;&#160;&#160;  <a class="el" href="log_8h.html#a47ed26c7e3e9a1b67b56050f260d1e9e">GOOGLE_CLOUD_CPP_PP_CONCAT</a>(google_cloud_cpp_log_, __LINE__)</td></tr>
<tr class="memdesc:a48f881faa3b42d36b05f38a93ad4ea0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a unique, or most likely unique identifier.  <a href="log_8h.html#a48f881faa3b42d36b05f38a93ad4ea0d">More...</a><br /></td></tr>
<tr class="separator:a48f881faa3b42d36b05f38a93ad4ea0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af52f68afcda95534415f9586645cd9fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#af52f68afcda95534415f9586645cd9fe">GOOGLE_CLOUD_CPP_LOG_I</a>(level,  sink)</td></tr>
<tr class="memdesc:af52f68afcda95534415f9586645cd9fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main entry point for the Google Cloud Platform C++ Library loggers.  <a href="log_8h.html#af52f68afcda95534415f9586645cd9fe">More...</a><br /></td></tr>
<tr class="separator:af52f68afcda95534415f9586645cd9fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af60b860676e7fa25e1e2e36579dae6f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#af60b860676e7fa25e1e2e36579dae6f9">GCP_LOG</a>(level)&#160;&#160;&#160;  <a class="el" href="log_8h.html#af52f68afcda95534415f9586645cd9fe">GOOGLE_CLOUD_CPP_LOG_I</a>(GCP_LS_##level, ::google::cloud::LogSink::Instance())</td></tr>
<tr class="memdesc:af60b860676e7fa25e1e2e36579dae6f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log a message with the Google Cloud Platform C++ Libraries logging framework.  <a href="log_8h.html#af60b860676e7fa25e1e2e36579dae6f9">More...</a><br /></td></tr>
<tr class="separator:af60b860676e7fa25e1e2e36579dae6f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6761f71dc492e76678b50c36ff14a314"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a6761f71dc492e76678b50c36ff14a314">GOOGLE_CLOUD_CPP_LOGGING_MIN_SEVERITY_ENABLED</a>&#160;&#160;&#160;GCP_LS_DEBUG</td></tr>
<tr class="separator:a6761f71dc492e76678b50c36ff14a314"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ac4c72b23eec2946858a43c41386b1dd4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#ac4c72b23eec2946858a43c41386b1dd4">google::cloud::v1::Severity</a> : int { <br />
&#160;&#160;<a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#ac4c72b23eec2946858a43c41386b1dd4a19926e6b33f63355986e9c77f35126e8">google::cloud::v1::Severity::GCP_LS_TRACE</a>, 
<a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#ac4c72b23eec2946858a43c41386b1dd4ab858c69248c47bb9f411651cf8ee26d6">google::cloud::v1::Severity::GCP_LS_DEBUG</a>, 
<a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#ac4c72b23eec2946858a43c41386b1dd4a47d3a15eead1f73cc69c68274fb275dd">google::cloud::v1::Severity::GCP_LS_INFO</a>, 
<a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#ac4c72b23eec2946858a43c41386b1dd4a89b8b9ebac3278bfe0d998d0052c86a3">google::cloud::v1::Severity::GCP_LS_NOTICE</a>, 
<br />
&#160;&#160;<a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#ac4c72b23eec2946858a43c41386b1dd4abc2618fc8ebd51bfa277121434384423">google::cloud::v1::Severity::GCP_LS_WARNING</a>, 
<a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#ac4c72b23eec2946858a43c41386b1dd4a40b0bbe787c992e7538add97b9abdc21">google::cloud::v1::Severity::GCP_LS_ERROR</a>, 
<a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#ac4c72b23eec2946858a43c41386b1dd4aa0ad543f2f38678a0e3c606be03ac386">google::cloud::v1::Severity::GCP_LS_CRITICAL</a>, 
<a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#ac4c72b23eec2946858a43c41386b1dd4abbc803db504b24b377a2abcf5f6f6fbb">google::cloud::v1::Severity::GCP_LS_ALERT</a>, 
<br />
&#160;&#160;<a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#ac4c72b23eec2946858a43c41386b1dd4a231b1e1189f54337be4b9ccb9b607489">google::cloud::v1::Severity::GCP_LS_FATAL</a>, 
<a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#ac4c72b23eec2946858a43c41386b1dd4a71e59df789d3d1c4eb7a8c9e8070cf0d">google::cloud::v1::Severity::GCP_LS_HIGHEST</a> = int(GCP_LS_FATAL), 
<a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#ac4c72b23eec2946858a43c41386b1dd4a2aaca572b21aab277c1eb51d75bd34f2">google::cloud::v1::Severity::GCP_LS_LOWEST</a> = int(GCP_LS_TRACE), 
<a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#ac4c72b23eec2946858a43c41386b1dd4a6fab7141215b31a08473e15c105e7b15">google::cloud::v1::Severity::GCP_LS_LOWEST_ENABLED</a> = int(GOOGLE_CLOUD_CPP_LOGGING_MIN_SEVERITY_ENABLED)
<br />
 }</td></tr>
<tr class="memdesc:ac4c72b23eec2946858a43c41386b1dd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the severity levels for Google Cloud Platform C++ Libraries logging.  <a href="namespacegoogle_1_1cloud_1_1v1.html#ac4c72b23eec2946858a43c41386b1dd4">More...</a><br /></td></tr>
<tr class="separator:ac4c72b23eec2946858a43c41386b1dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a471210c743bbeadc10866e6f4022595d"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#a471210c743bbeadc10866e6f4022595d">google::cloud::v1::operator&lt;&lt;</a> (std::ostream &amp;os, Severity x)</td></tr>
<tr class="memdesc:a471210c743bbeadc10866e6f4022595d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Streaming operator, writes a human readable representation.  <a href="namespacegoogle_1_1cloud_1_1v1.html#a471210c743bbeadc10866e6f4022595d">More...</a><br /></td></tr>
<tr class="separator:a471210c743bbeadc10866e6f4022595d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7032bb3da30d7db46c5cd8e5e209ec87"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegoogle_1_1cloud_1_1v1.html#a7032bb3da30d7db46c5cd8e5e209ec87">google::cloud::v1::operator&lt;&lt;</a> (std::ostream &amp;os, LogRecord const  &amp;rhs)</td></tr>
<tr class="memdesc:a7032bb3da30d7db46c5cd8e5e209ec87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default formatting of a <a class="el" href="structgoogle_1_1cloud_1_1v1_1_1LogRecord.html" title="Represents a single log message.">LogRecord</a>.  <a href="namespacegoogle_1_1cloud_1_1v1.html#a7032bb3da30d7db46c5cd8e5e209ec87">More...</a><br /></td></tr>
<tr class="separator:a7032bb3da30d7db46c5cd8e5e209ec87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Google Cloud Platform C++ Libraries logging framework. </p>
<p>Some of the libraries need to log information to simplify troubleshooting. The functions and macros used for logging are defined in this file. In general, we abide by the following principles:</p>
<ul>
<li>Logging should controlled by the application developer, unless explicitly instructed, the libraries produce no output to the console.</li>
<li>Logging should have very low cost:<ul>
<li>It should be possible to disable logs at compile time, they should disappear as-if there were <code>#ifdef</code>/<code>#endif</code> directives around them.</li>
<li>A log line at a disabled log level should be about as expensive as an extra if() statement. At the very least it should not incur additional memory allocations or locks.</li>
</ul>
</li>
<li>It should be easy to log complex objects: the logging library should play well with the C++ iostream classes.</li>
<li>The application should be able to intercept log records and re-direct them to their own logging framework.</li>
</ul>
<dl class="section user"><dt>Example: Logging From Library</dt><dd>Use the <code><a class="el" href="log_8h.html#af60b860676e7fa25e1e2e36579dae6f9" title="Log a message with the Google Cloud Platform C++ Libraries logging framework.">GCP_LOG()</a></code> macro to log from a Google Cloud Platform C++ library:</dd></dl>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> LibraryCode(ComplexThing <span class="keyword">const</span>&amp; thing) {</div>
<div class="line">  <a class="code" href="log_8h.html#af60b860676e7fa25e1e2e36579dae6f9">GCP_LOG</a>(INFO) &lt;&lt; <span class="stringliteral">&quot;I am here&quot;</span>;</div>
<div class="line">  <span class="keywordflow">if</span> (thing.is_bad()) {</div>
<div class="line">    <a class="code" href="log_8h.html#af60b860676e7fa25e1e2e36579dae6f9">GCP_LOG</a>(ERROR) &lt;&lt; <span class="stringliteral">&quot;Poor thing is bad: &quot;</span> &lt;&lt; thing;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section user"><dt>Example: Enable Logs to std::clog</dt><dd>To enable logs to <code>std::clog</code> the application can call:</dd></dl>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> AppCode() {</div>
<div class="line">  <a class="code" href="classgoogle_1_1cloud_1_1v1_1_1LogSink.html#a01dc98ce3a03076cd9f74c6614eeca31">google::cloud::LogSink::EnableStdClog</a>();</div>
<div class="line">}</div>
</div><!-- fragment --><p>Alternatively, the application can enable logging to <code>std::clog</code> without any code changes or recompiling by setting the "GOOGLE_CLOUD_CPP_ENABLE_CLOG" environment variable before the program starts. The existence of this variable is all that matters; the value is ignored.</p>
<p>Note that while <code>std::clog</code> is buffered, the framework will flush any log message at severity <code>WARNING</code> or higher.</p>
<dl class="section user"><dt>Example: Capture Logs</dt><dd>The application can implement simple backends by wrapping a functor:</dd></dl>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> AppCode() {</div>
<div class="line">  <span class="keyword">auto</span> <span class="keywordtype">id</span> = google::cloud::LogSink::AttachFunctor(</div>
<div class="line">      [](<a class="code" href="structgoogle_1_1cloud_1_1v1_1_1LogRecord.html">google::cloud::LogRecord</a> record) {</div>
<div class="line">          <span class="keywordflow">if</span> (record.<a class="code" href="structgoogle_1_1cloud_1_1v1_1_1LogRecord.html#a352c94a2fd0d055c41fe58ad4ed48288">severity</a> &gt;= google::cloud::Severity::CRITICAL) {</div>
<div class="line">            std::cerr &lt;&lt; record &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">          }</div>
<div class="line">      });</div>
<div class="line">  <span class="comment">// Use &quot;id&quot; to remove the capture.</span></div>
<div class="line">}</div>
</div><!-- fragment --> 
<p class="definition">Definition in file <a class="el" href="log_8h_source.html">log.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af60b860676e7fa25e1e2e36579dae6f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af60b860676e7fa25e1e2e36579dae6f9">&#9670;&nbsp;</a></span>GCP_LOG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GCP_LOG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">level</td><td>)</td>
          <td>&#160;&#160;&#160;  <a class="el" href="log_8h.html#af52f68afcda95534415f9586645cd9fe">GOOGLE_CLOUD_CPP_LOG_I</a>(GCP_LS_##level, ::google::cloud::LogSink::Instance())</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log a message with the Google Cloud Platform C++ Libraries logging framework. </p>

<p class="definition">Definition at line <a class="el" href="log_8h_source.html#l00161">161</a> of file <a class="el" href="log_8h_source.html">log.h</a>.</p>

</div>
</div>
<a id="af52f68afcda95534415f9586645cd9fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af52f68afcda95534415f9586645cd9fe">&#9670;&nbsp;</a></span>GOOGLE_CLOUD_CPP_LOG_I</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GOOGLE_CLOUD_CPP_LOG_I</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sink&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="log_8h.html#a48f881faa3b42d36b05f38a93ad4ea0d">GOOGLE_CLOUD_CPP_LOGGER_IDENTIFIER</a> = ::<a class="code" href="classgoogle_1_1cloud_1_1v1_1_1Logger.html">google::cloud::Logger</a>&lt;  \</div>
<div class="line">           ::google::cloud::LogSink::CompileTimeEnabled(                   \</div>
<div class="line">               ::google::cloud::Severity::level)&gt;(                         \</div>
<div class="line">           ::google::cloud::Severity::level, __func__, __FILE__, __LINE__, \</div>
<div class="line">           sink);                                                          \</div>
<div class="line">       GOOGLE_CLOUD_CPP_LOGGER_IDENTIFIER.<a class="code" href="classgoogle_1_1cloud_1_1v1_1_1Logger.html#ab8fb64c231d99227887c5e59b82f3c01">enabled</a>();                       \</div>
<div class="line">       GOOGLE_CLOUD_CPP_LOGGER_IDENTIFIER.LogTo(sink))                     \</div>
<div class="line">  GOOGLE_CLOUD_CPP_LOGGER_IDENTIFIER.Stream()</div>
</div><!-- fragment -->
<p>The main entry point for the Google Cloud Platform C++ Library loggers. </p>
<p>Typically this used only in tests, applications should use <a class="el" href="log_8h.html#af60b860676e7fa25e1e2e36579dae6f9" title="Log a message with the Google Cloud Platform C++ Libraries logging framework.">GCP_LOG()</a>. This macro introduces a new scope (via the for-loop) with a single new identifier: GOOGLE_CLOUD_CPP_LOG_RECORD_IDENTIFIER We use a for-loop (as opposed to an if-statement, or a do-while), because then we can say:</p>
<div class="fragment"><div class="line"><a class="code" href="log_8h.html#af60b860676e7fa25e1e2e36579dae6f9">GCP_LOG</a>(WARNING) &lt;&lt; a &lt;&lt; b &lt;&lt; c;</div>
</div><!-- fragment --><p>and the variables are scoped correctly. The for-loop also affords us an opportunity to check that the log level is enabled before entering the body of the loop, and if disabled we can minimize the cost of the log. For example, disabled logs do not create an iostream at all.</p>
<p>Finally, the type of the GOOGLE_CLOUD_CPP_LOG_RECORD_IDENTIFIER changes if the log level is disabled at compile-time. For compile-time disabled log levels the compiler should be able to determine that the loop will not execute at all, and completely eliminate the code (we verified this using godbolt.org with modern GCC and Clang versions).</p>
<p>Note the use of fully-qualified class names, including the initial <code>::</code>, this is to prevent problems if anybody uses this macro in a context where <code>Logger</code> is defined by the enclosing namespaces. </p>

<p class="definition">Definition at line <a class="el" href="log_8h_source.html#l00142">142</a> of file <a class="el" href="log_8h_source.html">log.h</a>.</p>

</div>
</div>
<a id="a48f881faa3b42d36b05f38a93ad4ea0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48f881faa3b42d36b05f38a93ad4ea0d">&#9670;&nbsp;</a></span>GOOGLE_CLOUD_CPP_LOGGER_IDENTIFIER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GOOGLE_CLOUD_CPP_LOGGER_IDENTIFIER&#160;&#160;&#160;  <a class="el" href="log_8h.html#a47ed26c7e3e9a1b67b56050f260d1e9e">GOOGLE_CLOUD_CPP_PP_CONCAT</a>(google_cloud_cpp_log_, __LINE__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a unique, or most likely unique identifier. </p>
<p>In <a class="el" href="log_8h.html#af60b860676e7fa25e1e2e36579dae6f9" title="Log a message with the Google Cloud Platform C++ Libraries logging framework.">GCP_LOG()</a> we need an identifier for the logger, we can easily create a C++ scope to make it work with any name, say "foo". However the user may have a variable called "foo" that they want to use in the scope (for example, to log the value of "foo". We try to make it unlikely that there will be collision by using an identifier that has a long prefix and depends on the line number. </p>

<p class="definition">Definition at line <a class="el" href="log_8h_source.html#l00111">111</a> of file <a class="el" href="log_8h_source.html">log.h</a>.</p>

</div>
</div>
<a id="a6761f71dc492e76678b50c36ff14a314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6761f71dc492e76678b50c36ff14a314">&#9670;&nbsp;</a></span>GOOGLE_CLOUD_CPP_LOGGING_MIN_SEVERITY_ENABLED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GOOGLE_CLOUD_CPP_LOGGING_MIN_SEVERITY_ENABLED&#160;&#160;&#160;GCP_LS_DEBUG</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="log_8h_source.html#l00165">165</a> of file <a class="el" href="log_8h_source.html">log.h</a>.</p>

</div>
</div>
<a id="a47ed26c7e3e9a1b67b56050f260d1e9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47ed26c7e3e9a1b67b56050f260d1e9e">&#9670;&nbsp;</a></span>GOOGLE_CLOUD_CPP_PP_CONCAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GOOGLE_CLOUD_CPP_PP_CONCAT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;a##b</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Concatenate two pre-processor tokens. </p>

<p class="definition">Definition at line <a class="el" href="log_8h_source.html#l00100">100</a> of file <a class="el" href="log_8h_source.html">log.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="aclassgoogle_1_1cloud_1_1v1_1_1LogSink_html_a01dc98ce3a03076cd9f74c6614eeca31"><div class="ttname"><a href="classgoogle_1_1cloud_1_1v1_1_1LogSink.html#a01dc98ce3a03076cd9f74c6614eeca31">google::cloud::v1::LogSink::EnableStdClog</a></div><div class="ttdeci">static void EnableStdClog()</div><div class="ttdoc">Enable std::clog on LogSink::Instance().</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00316">log.h:316</a></div></div>
<div class="ttc" id="astructgoogle_1_1cloud_1_1v1_1_1LogRecord_html"><div class="ttname"><a href="structgoogle_1_1cloud_1_1v1_1_1LogRecord.html">google::cloud::v1::LogRecord</a></div><div class="ttdoc">Represents a single log message.</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00215">log.h:215</a></div></div>
<div class="ttc" id="aclassgoogle_1_1cloud_1_1v1_1_1Logger_html_ab8fb64c231d99227887c5e59b82f3c01"><div class="ttname"><a href="classgoogle_1_1cloud_1_1v1_1_1Logger.html#ab8fb64c231d99227887c5e59b82f3c01">google::cloud::v1::Logger::enabled</a></div><div class="ttdeci">bool enabled() const</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00373">log.h:373</a></div></div>
<div class="ttc" id="aclassgoogle_1_1cloud_1_1v1_1_1Logger_html"><div class="ttname"><a href="classgoogle_1_1cloud_1_1v1_1_1Logger.html">google::cloud::v1::Logger</a></div><div class="ttdoc">Define the class to capture a log message.</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00362">log.h:362</a></div></div>
<div class="ttc" id="alog_8h_html_a48f881faa3b42d36b05f38a93ad4ea0d"><div class="ttname"><a href="log_8h.html#a48f881faa3b42d36b05f38a93ad4ea0d">GOOGLE_CLOUD_CPP_LOGGER_IDENTIFIER</a></div><div class="ttdeci">#define GOOGLE_CLOUD_CPP_LOGGER_IDENTIFIER</div><div class="ttdoc">Create a unique, or most likely unique identifier.</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00111">log.h:111</a></div></div>
<div class="ttc" id="alog_8h_html_af60b860676e7fa25e1e2e36579dae6f9"><div class="ttname"><a href="log_8h.html#af60b860676e7fa25e1e2e36579dae6f9">GCP_LOG</a></div><div class="ttdeci">#define GCP_LOG(level)</div><div class="ttdoc">Log a message with the Google Cloud Platform C++ Libraries logging framework.</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00161">log.h:161</a></div></div>
<div class="ttc" id="astructgoogle_1_1cloud_1_1v1_1_1LogRecord_html_a352c94a2fd0d055c41fe58ad4ed48288"><div class="ttname"><a href="structgoogle_1_1cloud_1_1v1_1_1LogRecord.html#a352c94a2fd0d055c41fe58ad4ed48288">google::cloud::v1::LogRecord::severity</a></div><div class="ttdeci">Severity severity</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00216">log.h:216</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
